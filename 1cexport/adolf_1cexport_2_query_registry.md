---
title: "Раздел 2: Реестр запросов"
mode: "wide"
---

**Модуль:** 1Cexport \
**Версия:** 1.0 \
**Дата:** Февраль 2026

---

## Обзор

| Группа | Кол-во | Потребители |
|--------|:------:|-------------|
| 1. CFO — бухгалтерские регистры | 5 | CFO |
| 2. Logistic — остатки и документы | 4 | Logistic |
| 3. Справочники (общие) | 4 | CFO, Logistic, Scout, Marketing |
| 4. Документы | 3 | CFO |
| 5. Расширенная аналитика | 2 | CFO, Logistic |
| **Итого** | **18** | |

---

## Группа 1. CFO — бухгалтерские регистры

<Info>
Обходное решение для замены расчётного отчёта «Валовая прибыль предприятия». Вместо одного агрегированного отчёта — набор запросов к виртуальным таблицам регистра бухучёта, с расчётом маржи на стороне ADOLF.
</Info>

### Q-01: Выручка и себестоимость по номенклатуре

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_account_turns_90` |
| Источник | РегистрБухгалтерии.Хозрасчетный.ОборотыДтКт() |
| Счета | 90.01.1 (выручка), 90.02.1 (себестоимость продаж) |
| Аналитика | Номенклатура, Контрагент |
| Периодичность | Еженедельно, Пн 07:00 |
| Глубина | Текущий месяц (скользящее окно) |
| Потребитель | CFO: Cost Mapping, P&L по SKU, ABC-анализ |

**Запрос 1С:**

```
ВЫБРАТЬ
    ХозрасчетныйОборотыДтКт.СубконтоДт1.Наименование КАК Номенклатура,
    ХозрасчетныйОборотыДтКт.СубконтоДт1.Артикул КАК Артикул,
    ХозрасчетныйОборотыДтКт.СубконтоДт2.Наименование КАК Контрагент,
    ХозрасчетныйОборотыДтКт.СчетДт.Код КАК СчетДт,
    ХозрасчетныйОборотыДтКт.СчетКт.Код КАК СчетКт,
    ХозрасчетныйОборотыДтКт.Организация.Наименование КАК Организация,
    ХозрасчетныйОборотыДтКт.СуммаОборотДт КАК СуммаДт,
    ХозрасчетныйОборотыДтКт.СуммаОборотКт КАК СуммаКт,
    ХозрасчетныйОборотыДтКт.КоличествоОборотДт КАК КоличествоДт,
    ХозрасчетныйОборотыДтКт.Период КАК ПериодРегистратор
ИЗ
    РегистрБухгалтерии.Хозрасчетный.ОборотыДтКт(
        &Дата1, &Дата2, Месяц,
        СчетДт В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.РасходыПоОбычнымВидамДеятельности)),
        ,
        СчетДт.Код В ("90.01.1", "90.02.1"),
        ,
    ) КАК ХозрасчетныйОборотыДтКт
```

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| period | DATE | Период (месяц) |
| nomenclature | VARCHAR(500) | Наименование номенклатуры |
| article | VARCHAR(100) | Артикул (= SKU для маппинга с МП) |
| counterparty | VARCHAR(500) | Контрагент (WB / Ozon / YM / опт) |
| account\_dt | VARCHAR(20) | Счёт дебет |
| account\_ct | VARCHAR(20) | Счёт кредит |
| organization | VARCHAR(500) | Организация |
| amount\_dt | DECIMAL(15,2) | Сумма оборота Дт |
| amount\_ct | DECIMAL(15,2) | Сумма оборота Кт |
| quantity\_dt | DECIMAL(15,3) | Количество оборота Дт |
| loaded\_at | TIMESTAMP | Время загрузки |

<Tip>
Расчёт маржи на стороне ADOLF: `Выручка = amount_ct WHERE account_ct = '90.01.1'`, `Себестоимость = amount_dt WHERE account_dt = '90.02.1'`, `Маржа = Выручка - Себестоимость`.
</Tip>

---

### Q-02: Коммерческие и управленческие расходы

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_account_turns_90_expenses` |
| Источник | РегистрБухгалтерии.Хозрасчетный.Обороты() |
| Счета | 90.07.1 (коммерческие), 90.08.1 (управленческие) |
| Периодичность | Ежемесячно, 1-е число 09:00 |
| Глубина | Предыдущий месяц |
| Потребитель | CFO: полный P&L, операционная прибыль |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| period | DATE | Период (месяц) |
| account | VARCHAR(20) | Счёт (90.07.1 или 90.08.1) |
| organization | VARCHAR(500) | Организация |
| amount\_debit | DECIMAL(15,2) | Оборот дебет |
| amount\_credit | DECIMAL(15,2) | Оборот кредит |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-03: Стоимость товарных запасов

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_account_balance_41` |
| Источник | РегистрБухгалтерии.Хозрасчетный.Остатки() |
| Счёт | 41 (Товары), аналитика: Номенклатура |
| Периодичность | Ежемесячно, 1-е число 09:30 |
| Глубина | Остатки на конец предыдущего месяца |
| Потребитель | CFO: оценка запасов, оборачиваемость |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| balance\_date | DATE | Дата остатка |
| nomenclature | VARCHAR(500) | Наименование |
| article | VARCHAR(100) | Артикул |
| organization | VARCHAR(500) | Организация |
| amount\_balance | DECIMAL(15,2) | Сальдо (сумма) |
| quantity\_balance | DECIMAL(15,3) | Сальдо (количество) |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-04: Движение денежных средств

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_account_turns_cash` |
| Источник | РегистрБухгалтерии.Хозрасчетный.Обороты() |
| Счета | 50 (Касса), 51 (Расчётные счета) |
| Периодичность | Еженедельно, Пн 07:30 |
| Глубина | Текущий месяц |
| Потребитель | CFO: ОДДС |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| period | DATE | Период |
| account | VARCHAR(20) | Счёт (50 или 51) |
| organization | VARCHAR(500) | Организация |
| amount\_debit | DECIMAL(15,2) | Приход |
| amount\_credit | DECIMAL(15,2) | Расход |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-05: Дебиторская и кредиторская задолженность

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_account_turns_settlements` |
| Источник | РегистрБухгалтерии.Хозрасчетный.Обороты() |
| Счета | 60 (поставщики), 62 (покупатели), аналитика: Контрагент |
| Периодичность | Ежемесячно, 1-е число 10:00 |
| Глубина | Предыдущий месяц |
| Потребитель | CFO: мониторинг ДЗ/КЗ |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| period | DATE | Период |
| account | VARCHAR(20) | Счёт (60 или 62) |
| counterparty | VARCHAR(500) | Контрагент |
| organization | VARCHAR(500) | Организация |
| amount\_debit | DECIMAL(15,2) | Оборот Дт |
| amount\_credit | DECIMAL(15,2) | Оборот Кт |
| balance\_debit | DECIMAL(15,2) | Сальдо Дт (= ДЗ для сч. 62) |
| balance\_credit | DECIMAL(15,2) | Сальдо Кт (= КЗ для сч. 60) |
| loaded\_at | TIMESTAMP | Время загрузки |

---

## Группа 2. Logistic — остатки и документы

<Info>
Запросы группы 2 заменяют файловый импорт XLSX/XML, описанный в [Logistic: 1С Integration](/logistic/adolf_logistic_5_1c_integration). FileScanner и FileImportAdapter более не требуются.
</Info>

### Q-06: Остатки товаров на складах

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_stock_balance` |
| Источник | РегистрНакопления.ТоварыНаСкладах.Остатки() |
| Периодичность | Ежедневно, 06:00 |
| Глубина | Остатки на текущую дату |
| Потребитель | Logistic: Stock Monitor (dual-source), CFO: оценка запасов |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| balance\_date | DATE | Дата остатка |
| nomenclature | VARCHAR(500) | Наименование |
| article | VARCHAR(100) | Артикул (= offer\_id Ozon) |
| warehouse | VARCHAR(200) | Склад |
| quantity | DECIMAL(15,3) | Количество (шт) |
| loaded\_at | TIMESTAMP | Время загрузки |

<Warning>
Поле `article` используется для маппинга article → offer\_id → ozon\_sku в модуле Logistic.
</Warning>

---

### Q-07: Заказы клиентов (незакрытые)

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_customer_orders` |
| Источник | Документ.ЗаказКлиента с ТЧ Товары |
| Фильтр | Статус ≠ Закрыт |
| Периодичность | Ежедневно, 06:15 |
| Потребитель | Logistic: прогноз спроса, Supply Task Engine |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| order\_number | VARCHAR(50) | Номер заказа |
| order\_date | TIMESTAMP | Дата заказа |
| counterparty | VARCHAR(500) | Контрагент |
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| quantity | DECIMAL(15,3) | Количество |
| price | DECIMAL(15,2) | Цена |
| amount | DECIMAL(15,2) | Сумма |
| status | VARCHAR(50) | Статус документа |
| desired\_date | DATE | Желаемая дата отгрузки |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-08: Заказы поставщикам (открытые)

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_supplier_orders` |
| Источник | Документ.ЗаказПоставщику с ТЧ Товары |
| Фильтр | Статус ≠ Закрыт |
| Периодичность | Ежедневно, 06:30 |
| Потребитель | Logistic: план закупок, товар в пути |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| order\_number | VARCHAR(50) | Номер заказа |
| order\_date | TIMESTAMP | Дата заказа |
| supplier | VARCHAR(500) | Поставщик |
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| quantity | DECIMAL(15,3) | Заказано |
| quantity\_received | DECIMAL(15,3) | Получено |
| price | DECIMAL(15,2) | Цена |
| expected\_date | DATE | Ожидаемая дата поставки |
| status | VARCHAR(50) | Статус документа |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-09: Поступления товаров за период

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_goods_receipts` |
| Источник | Документ.ПоступлениеТоваровУслуг с ТЧ Товары |
| Периодичность | Ежедневно, 06:45 |
| Глубина | 7 дней назад |
| Потребитель | Logistic: фактические приходы, скорость пополнения |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| document\_number | VARCHAR(50) | Номер документа |
| document\_date | TIMESTAMP | Дата документа |
| supplier | VARCHAR(500) | Поставщик |
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| quantity | DECIMAL(15,3) | Количество |
| price | DECIMAL(15,2) | Цена |
| amount | DECIMAL(15,2) | Сумма |
| warehouse | VARCHAR(200) | Склад-получатель |
| loaded\_at | TIMESTAMP | Время загрузки |

---

## Группа 3. Справочники

<Info>
Стратегия записи справочников: TRUNCATE &plus; INSERT (полная перезапись еженедельно). Это исключает проблему удалённых записей и не требует отслеживания изменений.
</Info>

### Q-10: Номенклатура

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_nomenclature` |
| Источник | Справочник.Номенклатура |
| Периодичность | Еженедельно, Пн 05:00 |
| Потребители | CFO, Logistic, Scout, Marketing |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| uid | VARCHAR(36) | GUID элемента 1С |
| article | VARCHAR(100) | Артикул |
| name | VARCHAR(500) | Наименование |
| kind | VARCHAR(200) | Вид номенклатуры (= бренд: Охана Маркет / Охана Кидс) |
| unit | VARCHAR(20) | Единица измерения |
| is\_group | BOOLEAN | Это группа (папка) |
| parent\_name | VARCHAR(500) | Родительская группа |
| barcode | VARCHAR(50) | Штрихкод (EAN-13) |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-11: Контрагенты

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_counterparties` |
| Источник | Справочник.Контрагенты |
| Периодичность | Еженедельно, Пн 05:15 |
| Потребитель | CFO |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| uid | VARCHAR(36) | GUID элемента 1С |
| name | VARCHAR(500) | Наименование |
| inn | VARCHAR(12) | ИНН |
| kpp | VARCHAR(9) | КПП |
| is\_group | BOOLEAN | Это группа |
| parent\_name | VARCHAR(500) | Родительская группа |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-12: Договоры контрагентов

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_contracts` |
| Источник | Справочник.ДоговорыКонтрагентов |
| Периодичность | Ежемесячно, 1-е число 05:00 |
| Потребитель | CFO |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| uid | VARCHAR(36) | GUID элемента 1С |
| number | VARCHAR(50) | Номер договора |
| counterparty | VARCHAR(500) | Контрагент |
| organization | VARCHAR(500) | Организация |
| contract\_type | VARCHAR(100) | Тип (с поставщиком / с клиентом) |
| valid\_from | DATE | Дата начала |
| valid\_to | DATE | Дата окончания |
| status | VARCHAR(50) | Статус |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-13: Цены номенклатуры

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_nomenclature_prices` |
| Источник | РегистрСведений.ЦеныНоменклатуры.СрезПоследних() |
| Периодичность | Еженедельно, Пн 05:30 |
| Потребители | Marketing, Scout |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| price\_type | VARCHAR(200) | Тип цены (оптовая / розничная / закупочная) |
| price | DECIMAL(15,2) | Цена |
| currency | VARCHAR(3) | Валюта |
| valid\_from | DATE | Дата установки |
| loaded\_at | TIMESTAMP | Время загрузки |

---

## Группа 4. Документы

### Q-14: Реализации товаров

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_sales` |
| Источник | Документ.РеализацияТоваровУслуг с ТЧ Товары |
| Периодичность | Ежедневно, 07:00 |
| Глубина | 7 дней назад |
| Потребитель | CFO: реестр отгрузок, сверка с маркетплейсами |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| document\_number | VARCHAR(50) | Номер документа |
| document\_date | TIMESTAMP | Дата документа |
| counterparty | VARCHAR(500) | Контрагент |
| organization | VARCHAR(500) | Организация |
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| quantity | DECIMAL(15,3) | Количество |
| price | DECIMAL(15,2) | Цена |
| amount | DECIMAL(15,2) | Сумма |
| vat\_rate | VARCHAR(10) | Ставка НДС |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-15: Возвраты от клиентов

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_returns` |
| Источник | Документ.ВозвратТоваровОтКлиента с ТЧ Товары |
| Периодичность | Еженедельно, Пн 07:15 |
| Глубина | 14 дней назад |
| Потребитель | CFO: анализ возвратов, корректировка P&L |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| document\_number | VARCHAR(50) | Номер документа |
| document\_date | TIMESTAMP | Дата документа |
| counterparty | VARCHAR(500) | Контрагент |
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| quantity | DECIMAL(15,3) | Количество |
| amount | DECIMAL(15,2) | Сумма |
| reason | VARCHAR(500) | Причина возврата |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-16: Инвентаризация

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_inventory_audit` |
| Источник | Документ.ПересчетТоваров с ТЧ Товары |
| Периодичность | Ежеквартально, 1-е число квартала 09:00 |
| Потребитель | CFO: аудит запасов, расхождения |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| document\_number | VARCHAR(50) | Номер документа |
| document\_date | TIMESTAMP | Дата документа |
| warehouse | VARCHAR(200) | Склад |
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| quantity\_accounting | DECIMAL(15,3) | Количество учётное |
| quantity\_actual | DECIMAL(15,3) | Количество фактическое |
| deviation | DECIMAL(15,3) | Отклонение |
| loaded\_at | TIMESTAMP | Время загрузки |

---

## Группа 5. Расширенная аналитика

### Q-17: Цены поставщиков

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_supplier_prices` |
| Источник | РегистрСведений.ЦеныПоставщиков.СрезПоследних() |
| Периодичность | Еженедельно, Пн 05:45 |
| Потребитель | CFO: мониторинг закупочных цен |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| supplier | VARCHAR(500) | Поставщик |
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| price | DECIMAL(15,2) | Цена поставщика |
| currency | VARCHAR(3) | Валюта |
| valid\_from | DATE | Дата установки |
| loaded\_at | TIMESTAMP | Время загрузки |

---

### Q-18: Движения товаров (приход/расход)

| Параметр | Значение |
|----------|----------|
| Таблица | `1C_stock_turnover` |
| Источник | РегистрНакопления.ТоварыНаСкладах.Обороты() |
| Периодичность | Ежедневно, 06:50 |
| Глубина | 7 дней назад |
| Потребитель | CFO, Logistic: аналитика оборачиваемости |

**Таблица PostgreSQL:**

| Колонка | Тип | Описание |
|---------|-----|----------|
| period | DATE | Период |
| article | VARCHAR(100) | Артикул |
| nomenclature | VARCHAR(500) | Наименование |
| warehouse | VARCHAR(200) | Склад |
| quantity\_receipt | DECIMAL(15,3) | Приход (шт) |
| quantity\_expense | DECIMAL(15,3) | Расход (шт) |
| amount\_receipt | DECIMAL(15,2) | Приход (сумма) |
| amount\_expense | DECIMAL(15,2) | Расход (сумма) |
| loaded\_at | TIMESTAMP | Время загрузки |

---

## Матрица покрытия модулей

| Модуль | Запросы | Назначение |
|--------|---------|------------|
| **CFO** | Q-01..Q-05, Q-10..Q-18 | P&L, себестоимость, ОДДС, ДЗ/КЗ, запасы |
| **Logistic** | Q-06..Q-09, Q-10, Q-18 | Остатки, заказы, поступления, оборачиваемость |
| **Scout** | Q-10, Q-13 | Номенклатура, розничные цены |
| **Marketing** | Q-10, Q-13 | Номенклатура, типы цен |

---

**Версия:** 1.0 \
**Статус:** Черновик
