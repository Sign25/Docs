---
title: "–†–∞–∑–¥–µ–ª 4: Open WebUI"
mode: "wide"
---

**–ü—Ä–æ–µ–∫—Ç:** –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á—ë—Ç –∏ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞  
**–ú–æ–¥—É–ª—å:** CFO  
**–í–µ—Ä—Å–∏—è:** 1.2  
**–î–∞—Ç–∞:** –§–µ–≤—Ä–∞–ª—å 2026

---

## 4.1 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–†–∞–∑–¥–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–¥—É–ª—è CFO –≤ Open WebUI. –ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **dashboard-first** –ø–æ–¥—Ö–æ–¥: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–¥–∏—Ä–µ–∫—Ç–æ—Ä) –≤–∏–¥–∏—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å KPI-–º–µ—Ç—Ä–∏–∫–∞–º–∏, –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ –∫–∞—Ç–∞–ª–æ–≥–æ–º –≥–æ—Ç–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ ‚Äî –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ò–ò. –ß–∞—Ç —Å –ò–ò –¥–æ—Å—Ç—É–ø–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω Open WebUI.

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ v1.0

| –ê—Å–ø–µ–∫—Ç | v1.0 | v1.1 | v1.2 |
|--------|------|------|------|
| –ü–∞—Ä–∞–¥–∏–≥–º–∞ | Chat-first | Dashboard-first | Dashboard-first + —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ |
| –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ | Pipeline \`@Adolf_CFO\` | Launcher + –µ–¥–∏–Ω—ã–π —á–∞—Ç \`@Adolf\` | Launcher + –µ–¥–∏–Ω—ã–π —á–∞—Ç \`@Adolf\` |
| KPI | ‚Äî | 6 –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ | 6 –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö + 6 —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö (KB) |
| –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–∞–Ω–Ω–µ—Ä–æ–≤ | ‚Äî | 6 (P&L, —Ç–æ–≤–∞—Ä–Ω—ã–π, –¥–∏–Ω–∞–º–∏–∫–∞, —Å–∫–ª–∞–¥, —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å, AI) | 11 (+—Ñ–∏–Ω. —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –î–î–°, —Ä–∏—Å–∫–∏/–ø—Ä–æ–≥–Ω–æ–∑—ã, –∫–∞–Ω–∞–ª—ã, –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å) |
| –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö | 1–° (—Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å) | 13 –≤—ã–≥—Ä—É–∑–æ–∫ 1–° | 13 –≤—ã–≥—Ä—É–∑–æ–∫ 1–° + ~90 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ KB Qdrant |
| –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚Äî | ‚Äî | 3 —Å—Ü–µ–Ω–∞—Ä–∏—è (KB + —Ç—Ä–µ–Ω–¥ 1–° + —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å) |
| Severity-–∏–Ω–¥–∏–∫–∞—Ü–∏—è | ‚Äî | ‚Äî | –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è KPI –∏ —Ä–∏—Å–∫–æ–≤ |

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| KPI Header | 2 —Å—Ç—Ä–æ–∫–∏: –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ (1–°) + —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ (KB) —Å severity-–∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π |
| Banner Grid | 11 –∫–∞—Ç–µ–≥–æ—Ä–∏–π: 6 –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö + 5 —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö (KB Qdrant) |
| Result Page | –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏, –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏ severity-badges |
| Charts | shadcn/ui Charts (Recharts): Area, Bar, Line, Pie, Gauge, Radar, Waterfall |
| Forecast | –ü—Ä–æ–≥–Ω–æ–∑–Ω–∞—è –º–æ–¥–µ–ª—å: 3 —Å—Ü–µ–Ω–∞—Ä–∏—è (KB + —Ç—Ä–µ–Ω–¥ 1–° + —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å) |
| Pipeline | –ï–¥–∏–Ω—ã–π —á–∞—Ç \`@Adolf\` ‚Äî –∞–≤—Ç–æ–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |

---

## 4.2 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### 4.2.1 –û–±—â–∞—è —Å—Ö–µ–º–∞

```mermaid
flowchart TB
    subgraph ENTRY["–¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞"]
        SIDEBAR["Sidebar ‚Üí CFO"]
        MAIN["–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω<br/>Open WebUI"]
    end

    subgraph CFO_UI["CFO Interface"]
        DASHBOARD["Dashboard Page<br/>/apps/cfo"]
        RESULT["Result Page<br/>/apps/cfo/result"]
        CHAT["–ï–¥–∏–Ω—ã–π —á–∞—Ç @Adolf<br/>(–≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω)"]
    end

    subgraph DASHBOARD_PARTS["–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Dashboard"]
        KPI["KPI Header<br/>6 –∫–∞—Ä—Ç–æ—á–µ–∫ –º–µ—Ç—Ä–∏–∫"]
        BANNERS["Banner Grid<br/>6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π"]
    end

    subgraph BACKEND["Backend"]
        API["Launcher API"]
        EXECUTOR["CFO Executors"]
        PIPELINE["CFO Pipeline"]
    end

    subgraph DATA["–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö"]
        PG["PostgreSQL<br/>cfo_* —Ç–∞–±–ª–∏—Ü—ã"]
        CSV_1C["CSV –∏–∑ 1–°<br/>13 –≤—ã–≥—Ä—É–∑–æ–∫"]
        MP_API["API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤"]
    end

    SIDEBAR -->|"–ö–ª–∏–∫"| DASHBOARD
    MAIN -->|"@Adolf"| CHAT

    DASHBOARD --> KPI
    DASHBOARD --> BANNERS

    KPI -->|"GET /api/cfo/kpi"| API
    BANNERS -->|"POST /api/launcher/execute"| API
    CHAT -->|"Pipeline"| PIPELINE

    API --> EXECUTOR
    EXECUTOR --> PG
    PIPELINE --> PG

    CSV_1C -->|"ETL"| PG
    MP_API -->|"Celery"| PG
```

### 4.2.2 –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫

```mermaid
sequenceDiagram
    participant U as Director
    participant D as Dashboard /apps/cfo
    participant A as Launcher API
    participant R as Result Page

    U->>D: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç CFO –∏–∑ sidebar
    D->>A: GET /api/cfo/kpi
    A-->>D: KPI-–º–µ—Ç—Ä–∏–∫–∏
    D->>U: –î–∞—à–±–æ—Ä–¥: KPI + –±–∞–Ω–Ω–µ—Ä—ã

    U->>D: –ö–ª–∏–∫ –ø–æ –±–∞–Ω–Ω–µ—Ä—É "P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"
    D->>A: POST /api/launcher/execute
    A-->>R: –î–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç–∞
    R->>U: –¢–∞–±–ª–∏—Ü–∞ + –≥—Ä–∞—Ñ–∏–∫ + –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π

    U->>R: –ö–ª–∏–∫ "–ù–∞–∑–∞–¥"
    R->>D: –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –¥–∞—à–±–æ—Ä–¥
```

### 4.2.3 –ß–∞—Ç —Å –ò–ò ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫

–î–ª—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω Open WebUI ‚Äî –µ–¥–∏–Ω—ã–π —á–∞—Ç \`@Adolf\`. Pipeline –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ CFO Tools –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è. –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–±–æ—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö Tools –∏ —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤. –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî –≤ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ 4.8.

---

## 4.3 KPI Dashboard Header

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã \`/apps/cfo\` –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª—è–µ–º—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –≤ –¥–≤—É—Ö —Å—Ç—Ä–æ–∫–∞—Ö: **–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ** (–¥–∞–Ω–Ω—ã–µ 1–°, –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ) –∏ **—Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ** (–¥–∞–Ω–Ω—ã–µ –∏–∑ KB Qdrant, –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç—á—ë—Ç–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤). –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ endpoint \`GET /api/cfo/kpi\`.

### 4.3.1 –°–æ—Å—Ç–∞–≤ KPI-–∫–∞—Ä—Ç–æ—á–µ–∫

**–°—Ç—Ä–æ–∫–∞ 1 ‚Äî –û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (1–° + API –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤)**

| # | –ú–µ—Ç—Ä–∏–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ | –î–µ–ª—å—Ç–∞ | –ò–∫–æ–Ω–∫–∞ |
|:-:|---------|----------|--------|--------|
| 1 | –í—ã—Ä—É—á–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é | \`cfo_pnl_daily\` | vs –ø—Ä–æ—à–ª–∞—è –Ω–µ–¥–µ–ª—è | \`trending-up\` |
| 2 | –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å | \`cfo_pnl_daily\` + \`financial_summary\` | vs –ø—Ä–æ—à–ª–∞—è –Ω–µ–¥–µ–ª—è | \`wallet\` |
| 3 | –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ä–∂–∞ | –†–∞—Å—á—ë—Ç: (–≤—ã—Ä—É—á–∫–∞ ‚àí COGS ‚àí –∫–æ–º–∏—Å—Å–∏–∏ –ú–ü ‚àí –ª–æ–≥–∏—Å—Ç–∏–∫–∞) / –≤—ã—Ä—É—á–∫–∞ | vs –ø—Ä–æ—à–ª–∞—è –Ω–µ–¥–µ–ª—è (–ø.–ø.) | \`percent\` |
| 4 | –£–±—ã—Ç–æ—á–Ω—ã–µ SKU | \`cfo_abc_results\` (class D) | vs –ø—Ä–æ—à–ª–∞—è –Ω–µ–¥–µ–ª—è | \`alert-triangle\` |
| 5 | –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º–æ—Å—Ç—å –∑–∞–ø–∞—Å–æ–≤ | \`stock_balance\` + \`cost_prices\` | –¥–Ω–∏ (—Ç—Ä–µ–Ω–¥) | \`refresh-cw\` |
| 6 | –í—ã—Ä—É—á–∫–∞ / —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ | \`cfo_pnl_daily\` + KB (\`2_9_kadry_i_fot\`) | vs –ø—Ä–æ—à–ª—ã–π –º–µ—Å—è—Ü | \`users\` |

**–°—Ç—Ä–æ–∫–∞ 2 ‚Äî –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (KB Qdrant)**

| # | –ú–µ—Ç—Ä–∏–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ KB | –ü–æ—Ä–æ–≥ —Ç—Ä–µ–≤–æ–≥–∏ | –ò–∫–æ–Ω–∫–∞ |
|:-:|---------|-------------|---------------|--------|
| 7 | –¢–µ–∫—É—â–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å | \`section_2_2_liquidity\` | &lt; 1.0 ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ | \`shield\` |
| 8 | –ö–ó –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞ (&gt;180–¥) | \`2_5_debitorskaya_kreditorskaya\` | &gt; 40% ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ | \`clock\` |
| 9 | Cash Runway | \`dds_analysis\` + \`section_2_4_cash_flow\` | &lt; 3 –º–µ—Å ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ | \`hourglass\` |
| 10 | –î–æ–ª—è –∫–æ–º–º–µ—Ä—á. —Ä–∞—Å—Ö–æ–¥–æ–≤ | \`2_3_kommercheskie_rashody\` | &gt; 40% ‚Äî –≤—ã—Å–æ–∫–∞—è | \`pie-chart\` |
| 11 | –ù–µ–ª–∏–∫–≤–∏–¥ | \`2_6_zapasy_nelikvid\` | &gt; 10% –∑–∞–ø–∞—Å–æ–≤ ‚Äî —Ä–∏—Å–∫ | \`archive-x\` |
| 12 | –ü—Ä–æ–≥–Ω–æ–∑ –≤—ã—Ä—É—á–∫–∏ (–º–µ—Å) | \`section_5_forecast\` + —Ç—Ä–µ–Ω–¥ 1–° | –±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π | \`target\` |

–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–æ–ª–µ–π Director –∏ Admin. –î–ª—è Senior –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (—Å—Ç—Ä–æ–∫–∞ 1).

### 4.3.2 API Endpoint

```
GET /api/cfo/kpi
Authorization: Bearer {token}
```

**Response:**

```json
{
  "period": "2026-02-07 ‚Äî 2026-02-13",
  "rows": [
    {
      "id": "operational",
      "label": "–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏",
      "min_role": "senior",
      "metrics": [
        {
          "id": "revenue",
          "label": "–í—ã—Ä—É—á–∫–∞",
          "value": 5250000,
          "formatted": "5.25 –º–ª–Ω ‚ÇΩ",
          "delta": 12.3,
          "delta_label": "+12.3% –∫ –ø—Ä–µ–¥. –Ω–µ–¥",
          "trend": "up",
          "icon": "trending-up",
          "severity": "normal"
        },
        {
          "id": "op_profit",
          "label": "–û–ø–µ—Ä. –ø—Ä–∏–±—ã–ª—å",
          "value": 523000,
          "formatted": "523 —Ç—ã—Å ‚ÇΩ",
          "delta": 8.1,
          "delta_label": "+8.1% –∫ –ø—Ä–µ–¥. –Ω–µ–¥",
          "trend": "up",
          "icon": "wallet",
          "severity": "normal"
        },
        {
          "id": "op_margin",
          "label": "–û–ø–µ—Ä. –º–∞—Ä–∂–∞",
          "value": 9.96,
          "formatted": "9.96%",
          "delta": 0.8,
          "delta_label": "+0.8 –ø.–ø.",
          "trend": "up",
          "icon": "percent",
          "severity": "warning"
        },
        {
          "id": "loss_makers",
          "label": "–£–±—ã—Ç–æ—á–Ω—ã—Ö SKU",
          "value": 5,
          "formatted": "5",
          "delta": -2,
          "delta_label": "-2 –∫ –ø—Ä–µ–¥. –Ω–µ–¥",
          "trend": "down",
          "icon": "alert-triangle",
          "severity": "normal"
        },
        {
          "id": "inventory_turnover",
          "label": "–û–±–æ—Ä–∞—á. –∑–∞–ø–∞—Å–æ–≤",
          "value": 76,
          "formatted": "76 –¥–Ω",
          "delta": -3,
          "delta_label": "-3 –¥–Ω (—É–ª—É—á—à–µ–Ω–∏–µ)",
          "trend": "down",
          "icon": "refresh-cw",
          "severity": "warning"
        },
        {
          "id": "revenue_per_employee",
          "label": "–í—ã—Ä—É—á–∫–∞ / —Å–æ—Ç—Ä.",
          "value": 36972,
          "formatted": "37.0 —Ç—ã—Å ‚ÇΩ",
          "delta": -5.2,
          "delta_label": "-5.2% –∫ –ø—Ä–µ–¥. –º–µ—Å",
          "trend": "down",
          "icon": "users",
          "severity": "critical"
        }
      ]
    },
    {
      "id": "strategic",
      "label": "–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã",
      "min_role": "director",
      "metrics": [
        {
          "id": "current_ratio",
          "label": "–¢–µ–∫. –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å",
          "value": 0.82,
          "formatted": "0.82",
          "delta": null,
          "delta_label": "–Ω–æ—Ä–º–∞ > 1.0",
          "trend": "neutral",
          "icon": "shield",
          "severity": "critical",
          "threshold": {"critical": 1.0, "warning": 1.5}
        },
        {
          "id": "overdue_kz",
          "label": "–ö–ó –ø—Ä–æ—Å—Ä–æ—á. >180–¥",
          "value": 46.6,
          "formatted": "46.6%",
          "delta": null,
          "delta_label": "–æ—Ç –æ–±—â–µ–π –ö–ó",
          "trend": "neutral",
          "icon": "clock",
          "severity": "critical",
          "threshold": {"critical": 40, "warning": 25}
        },
        {
          "id": "cash_runway",
          "label": "Cash Runway",
          "value": 4.2,
          "formatted": "4.2 –º–µ—Å",
          "delta": -0.8,
          "delta_label": "-0.8 –º–µ—Å –∫ –ø—Ä–µ–¥.",
          "trend": "down",
          "icon": "hourglass",
          "severity": "warning",
          "threshold": {"critical": 3, "warning": 6}
        },
        {
          "id": "commercial_expense_ratio",
          "label": "–ö–æ–º–º–µ—Ä—á. —Ä–∞—Å—Ö–æ–¥—ã",
          "value": 45.0,
          "formatted": "45.0%",
          "delta": 4.5,
          "delta_label": "+4.5 –ø.–ø. –∫ 2024",
          "trend": "up",
          "icon": "pie-chart",
          "severity": "critical",
          "threshold": {"critical": 40, "warning": 25}
        },
        {
          "id": "deadstock",
          "label": "–ù–µ–ª–∏–∫–≤–∏–¥",
          "value": 51.5,
          "formatted": "51.5 –º–ª–Ω ‚ÇΩ",
          "delta": null,
          "delta_label": "8.5% –æ—Ç –∑–∞–ø–∞—Å–æ–≤",
          "trend": "neutral",
          "icon": "archive-x",
          "severity": "warning",
          "threshold": {"critical": 10, "warning": 5}
        },
        {
          "id": "revenue_forecast",
          "label": "–ü—Ä–æ–≥–Ω–æ–∑ (–º–µ—Å)",
          "value": 6800000,
          "formatted": "6.8 –º–ª–Ω ‚ÇΩ",
          "delta": null,
          "delta_label": "–±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π",
          "trend": "neutral",
          "icon": "target",
          "severity": "normal"
        }
      ]
    }
  ]
}
```

### 4.3.3 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç KPI Card

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –±–∞–∑–µ shadcn/ui Card. –ò–∫–æ–Ω–∫–∏: Lucide. –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–ª–µ–º \`severity\`:

| Severity | –¶–≤–µ—Ç —Ä–∞–º–∫–∏/–∏–∫–æ–Ω–∫–∏ | CSS Variable | –ö–æ–≥–¥–∞ |
|----------|-------------------|-------------|-------|
| \`normal\` | –ó–µ–ª—ë–Ω—ã–π | \`--success\` | –ú–µ—Ç—Ä–∏–∫–∞ –≤ –Ω–æ—Ä–º–µ |
| \`warning\` | –ñ—ë–ª—Ç—ã–π | \`--warning\` | –ú–µ—Ç—Ä–∏–∫–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è –∫ –ø–æ—Ä–æ–≥—É |
| \`critical\` | –ö—Ä–∞—Å–Ω—ã–π | \`--destructive\` | –ú–µ—Ç—Ä–∏–∫–∞ –∑–∞ –ø–æ—Ä–æ–≥–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º |

–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (—Å—Ç—Ä–æ–∫–∞ 2) —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–µ \`threshold\` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ severity. –ü–æ—Ä–æ–≥–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è Admin —á–µ—Ä–µ–∑ \`/api/cfo/settings\`.

### 4.3.4 Backend —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

```python
# executors/launcher/cfo_kpi.py

async def get_kpi(user: dict) -> dict:
    """KPI-–º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ CFO. –î–≤–µ —Å—Ç—Ä–æ–∫–∏: –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ + —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ."""

    # --- –°—Ç—Ä–æ–∫–∞ 1: –û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ (1–° + API –ú–ü) ---
    current = await pnl_service.get_summary(week_start(), yesterday())
    previous = await pnl_service.get_summary(prev_week_start(), prev_week_end())
    loss_count = await abc_service.count_class_d(week_start(), yesterday())
    stock = await stock_service.get_total_balance()
    cost_data = await cost_service.get_avg_cost()
    headcount = await kb_service.query("—á–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ —Ç–µ–∫—É—â–∞—è")

    inv_turnover = calculate_inventory_turnover(
        cogs=current.cogs, avg_inventory=stock.total_value
    )
    rev_per_employee = current.revenue / headcount.value if headcount else None

    operational = build_row("operational", "–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏", "senior", [
        build_metric("revenue", "–í—ã—Ä—É—á–∫–∞", current.revenue,
                     delta_pct(current.revenue, previous.revenue)),
        build_metric("op_profit", "–û–ø–µ—Ä. –ø—Ä–∏–±—ã–ª—å", current.op_profit,
                     delta_pct(current.op_profit, previous.op_profit)),
        build_metric("op_margin", "–û–ø–µ—Ä. –º–∞—Ä–∂–∞", current.op_margin,
                     current.op_margin - previous.op_margin,
                     severity=calc_severity(current.op_margin, warning=15, critical=5)),
        build_metric("loss_makers", "–£–±—ã—Ç–æ—á–Ω—ã—Ö SKU", loss_count.current,
                     loss_count.current - loss_count.previous),
        build_metric("inventory_turnover", "–û–±–æ—Ä–∞—á. –∑–∞–ø–∞—Å–æ–≤", inv_turnover,
                     inv_turnover - previous_inv_turnover,
                     severity=calc_severity(inv_turnover, warning=90, critical=120)),
        build_metric("revenue_per_employee", "–í—ã—Ä—É—á–∫–∞ / —Å–æ—Ç—Ä.", rev_per_employee,
                     delta_pct(rev_per_employee, prev_rev_per_employee)),
    ])

    rows = [operational]

    # --- –°—Ç—Ä–æ–∫–∞ 2: –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ (KB Qdrant) ‚Äî —Ç–æ–ª—å–∫–æ Director+ ---
    if user["role"] in ("director", "admin"):
        kb_liquidity = await kb_service.query("—Ç–µ–∫—É—â–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç")
        kb_overdue = await kb_service.query("–ö–ó –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–∞ –±–æ–ª–µ–µ 180 –¥–Ω–µ–π –ø—Ä–æ—Ü–µ–Ω—Ç")
        kb_cash = await kb_service.query("cash runway –º–µ—Å—è—Ü–µ–≤ –¥–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫")
        kb_commercial = await kb_service.query("–¥–æ–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤ –≤—ã—Ä—É—á–∫–µ")
        kb_deadstock = await kb_service.query("–Ω–µ–ª–∏–∫–≤–∏–¥ —Å—É–º–º–∞ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –∑–∞–ø–∞—Å–æ–≤")
        kb_forecast = await kb_service.query("–ø—Ä–æ–≥–Ω–æ–∑ –≤—ã—Ä—É—á–∫–∏ –±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –º–µ—Å—è—Ü")

        strategic = build_row("strategic", "–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã", "director", [
            build_metric("current_ratio", "–¢–µ–∫. –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å", kb_liquidity.value,
                         threshold={"critical": 1.0, "warning": 1.5}),
            build_metric("overdue_kz", "–ö–ó –ø—Ä–æ—Å—Ä–æ—á. >180–¥", kb_overdue.value,
                         threshold={"critical": 40, "warning": 25}),
            build_metric("cash_runway", "Cash Runway", kb_cash.value,
                         threshold={"critical": 3, "warning": 6}),
            build_metric("commercial_expense_ratio", "–ö–æ–º–º–µ—Ä—á. —Ä–∞—Å—Ö–æ–¥—ã",
                         kb_commercial.value,
                         threshold={"critical": 40, "warning": 25}),
            build_metric("deadstock", "–ù–µ–ª–∏–∫–≤–∏–¥", kb_deadstock.value),
            build_metric("revenue_forecast", "–ü—Ä–æ–≥–Ω–æ–∑ (–º–µ—Å)", kb_forecast.value),
        ])
        rows.append(strategic)

    return {"period": f"{week_start()} ‚Äî {yesterday()}", "rows": rows}
```

---

## 4.4 –ö–∞—Ç–∞–ª–æ–≥ –±–∞–Ω–Ω–µ—Ä–æ–≤

–ü–æ–¥ KPI-—à–∞–ø–∫–æ–π —Ä–∞—Å–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è —Å–µ—Ç–∫–∞ –±–∞–Ω–Ω–µ—Ä–æ–≤, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –ö–∞–∂–¥—ã–π –±–∞–Ω–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç —á–µ—Ä–µ–∑ \`POST /api/launcher/execute\`. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç [Launcher Core 3.1](/core/adolf_core_3_1_launcher).

### 4.4.1 –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –±–∞–Ω–Ω–µ—Ä—ã

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1: P&L –æ—Ç—á—ë—Ç—ã**

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –î–æ—Å—Ç—É–ø | Action |
|-----------|-----------|--------|--------|--------|
| \`pnl_category\` | P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º | \`folder-bar-chart\` | Senior+ | \`cfo.pnl_category\` |
| \`pnl_brand\` | P&L –ø–æ –±—Ä–µ–Ω–¥–∞–º | \`tags\` | Senior+ | \`cfo.pnl_brand\` |
| \`pnl_marketplace\` | P&L –ø–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º | \`store\` | Senior+ | \`cfo.pnl_marketplace\` |
| \`pnl_sku\` | P&L –ø–æ SKU | \`barcode\` | Director+ | \`cfo.pnl_sku\` |
| \`pnl_consolidated\` | –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π P&L | \`file-bar-chart\` | Director+ | \`cfo.pnl_consolidated\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 2: –¢–æ–≤–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑**

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –î–æ—Å—Ç—É–ø | Action |
|-----------|-----------|--------|--------|--------|
| \`abc_analysis\` | ABC-–∞–Ω–∞–ª–∏–∑ | \`bar-chart-3\` | Senior+ | \`cfo.abc_analysis\` |
| \`loss_makers\` | –£–±—ã—Ç–æ—á–Ω—ã–µ SKU | \`alert-triangle\` | Senior+ | \`cfo.loss_makers\` |
| \`top_profitable\` | –¢–æ–ø –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö | \`trophy\` | Senior+ | \`cfo.top_profitable\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 3: –î–∏–Ω–∞–º–∏–∫–∞ (–≥—Ä–∞—Ñ–∏–∫–∏)**

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | Badge | Action |
|-----------|-----------|--------|-------|--------|
| \`chart_revenue\` | –î–∏–Ω–∞–º–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏ | \`trending-up\` | ‚Äî | \`cfo.chart_revenue\` |
| \`chart_margin\` | –î–∏–Ω–∞–º–∏–∫–∞ –º–∞—Ä–∂–∏ | \`activity\` | ‚Äî | \`cfo.chart_margin\` |
| \`chart_compare\` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ | \`git-compare-arrows\` | ‚Äî | \`cfo.chart_compare\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 4: –°–∫–ª–∞–¥ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞**

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ 1–° | Action |
|-----------|-----------|--------|-------------|--------|
| \`stock_balance\` | –û—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö | \`package\` | \`stock_balance\` (–µ–∂–µ–¥–Ω.) | \`cfo.stock_balance\` |
| \`shipments\` | –û—Ç–≥—Ä—É–∑–∫–∏ –Ω–∞ –ú–ü | \`truck\` | \`orders_shipped\` (–µ–∂–µ–¥–Ω.) | \`cfo.shipments\` |
| \`returns\` | –í–æ–∑–≤—Ä–∞—Ç—ã | \`undo-2\` | \`returns_register\` (–µ–∂–µ–Ω–µ–¥.) | \`cfo.returns\` |
| \`inventory_value\` | –û—Ü–µ–Ω–∫–∞ –∑–∞–ø–∞—Å–æ–≤ | \`warehouse\` | \`inventory_valuation\` (–µ–∂–µ–º–µ—Å.) | \`cfo.inventory_value\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 5: –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å**

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ 1–° | Action |
|-----------|-----------|--------|-------------|--------|
| \`cost_by_sku\` | –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ SKU | \`calculator\` | \`cost_prices\` (–µ–∂–µ–Ω–µ–¥.) | \`cfo.cost_by_sku\` |
| \`supplier_prices\` | –¶–µ–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ | \`receipt\` | \`suppliers_prices\` (–µ–∂–µ–Ω–µ–¥.) | \`cfo.supplier_prices\` |
| \`cost_dynamics\` | –î–∏–Ω–∞–º–∏–∫–∞ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ | \`chart-line\` | \`cost_prices\` (–∏—Å—Ç–æ—Ä–∏—è) | \`cfo.cost_dynamics\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 6: AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞**

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | Badge | Action |
|-----------|-----------|--------|-------|--------|
| \`ai_digest\` | AI-–¥–∞–π–¥–∂–µ—Å—Ç –∑–∞ –Ω–µ–¥–µ–ª—é | \`sparkles\` | AI | \`cfo.ai_digest\` |
| \`ai_chat\` | –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å CFO | \`message-square\` | ‚Äî | \`cfo.ai_chat\` (redirect ‚Üí –µ–¥–∏–Ω—ã–π —á–∞—Ç) |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 7: –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** (–∏—Å—Ç–æ—á–Ω–∏–∫: KB Qdrant, Director+)

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ KB | Action |
|-----------|-----------|--------|-------------|--------|
| \`liquidity\` | –ê–Ω–∞–ª–∏–∑ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ | \`shield-check\` | \`section_2_2_liquidity\` | \`cfo.liquidity\` |
| \`debt_load\` | –î–æ–ª–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ | \`scale\` | \`2_5_debitorskaya_kreditorskaya\` | \`cfo.debt_load\` |
| \`ebitda\` | EBITDA –∏ —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å | \`badge-percent\` | \`section_2_1_key_metrics\` | \`cfo.ebitda\` |
| \`financial_stability\` | –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å | \`building\` | \`section_2_3_financial_stability\` | \`cfo.financial_stability\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 8: –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫** (–∏—Å—Ç–æ—á–Ω–∏–∫: KB Qdrant, Director+)

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ KB | Action |
|-----------|-----------|--------|-------------|--------|
| \`cash_flow\` | –ê–Ω–∞–ª–∏–∑ –î–î–° | \`banknote\` | \`section_2_4_cash_flow\`, \`dds_analysis\` | \`cfo.cash_flow\` |
| \`cash_runway_report\` | Cash Runway (–ø—Ä–æ–≥–Ω–æ–∑) | \`hourglass\` | \`dds_analysis\` + —Ç—Ä–µ–Ω–¥ 1–° | \`cfo.cash_runway\` |
| \`working_capital\` | –û–±–æ—Ä–æ—Ç–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª | \`rotate-ccw\` | \`2_8_oborotno_saldovye\` | \`cfo.working_capital\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 9: –†–∏—Å–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã** (–∏—Å—Ç–æ—á–Ω–∏–∫: KB Qdrant, Director+)

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ KB | Action |
|-----------|-----------|--------|-------------|--------|
| \`critical_risks\` | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏ | \`siren\` | \`section_1_2_critical_risks\` | \`cfo.critical_risks\` |
| \`forecast_scenarios\` | –ü—Ä–æ–≥–Ω–æ–∑ (3 —Å—Ü–µ–Ω–∞—Ä–∏—è) | \`git-branch\` | \`section_5_forecast\` + —Ç—Ä–µ–Ω–¥ 1–° | \`cfo.forecast\` |
| \`roadmap\` | –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ | \`map\` | \`section_1_3_roadmap\` | \`cfo.roadmap\` |
| \`audit_findings\` | –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—É–¥–∏—Ç–∞ | \`clipboard-check\` | \`section_7_audit\` | \`cfo.audit\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 10: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤** (–∏—Å—Ç–æ—á–Ω–∏–∫: KB + 1–°)

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ | Action |
|-----------|-----------|--------|----------|--------|
| \`channel_margins\` | –ú–∞—Ä–∂–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º | \`git-compare-arrows\` | \`section_3_1_channel_margins\` | \`cfo.channel_margins\` |
| \`mp_commissions\` | –ö–æ–º–∏—Å—Å–∏–∏ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞ –ú–ü | \`receipt\` | \`section_3_2_logistics_commissions\` + 1–° | \`cfo.mp_commissions\` |
| \`redemption_rate\` | –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∫—É–ø–∞ | \`package-check\` | \`section_3_3_redemption_rate\` | \`cfo.redemption_rate\` |
| \`mp_benchmark\` | –ë–µ–Ω—á–º–∞—Ä–∫ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ | \`bar-chart-horizontal\` | KB –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ú–ü | \`cfo.mp_benchmark\` |

**–ö–∞—Ç–µ–≥–æ—Ä–∏—è 11: –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏** (–∏—Å—Ç–æ—á–Ω–∏–∫: KB Qdrant, Director+)

| Banner ID | –ó–∞–≥–æ–ª–æ–≤–æ–∫ | –ò–∫–æ–Ω–∫–∞ | –ò—Å—Ç–æ—á–Ω–∏–∫ KB | Action |
|-----------|-----------|--------|-------------|--------|
| \`dz_aging\` | –î–ó ‚Äî aging report | \`clock\` | \`2_5_debitorskaya_kreditorskaya\` | \`cfo.dz_aging\` |
| \`kz_aging\` | –ö–ó ‚Äî aging report | \`timer\` | \`2_5_debitorskaya_kreditorskaya\` | \`cfo.kz_aging\` |
| \`suppliers_analysis\` | –ê–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ | \`handshake\` | \`2_13_Analiz_postavshchikov\` | \`cfo.suppliers_analysis\` |
| \`inventory_deadstock\` | –ù–µ–ª–∏–∫–≤–∏–¥ –∏ –∑–∞–ø–∞—Å—ã | \`archive-x\` | \`section_4_1_inventory\`, \`2_6_zapasy\` | \`cfo.inventory_deadstock\` |

### 4.4.2 JSON-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª: \`/config/launcher/cfo.json\`

```json
{
  "module": "cfo",
  "version": "1.1",
  "title": "–§–∏–Ω–∞–Ω—Å—ã",
  "description": "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å",
  "icon": "line-chart",
  "kpi_endpoint": "/api/cfo/kpi",
  "categories": [
    {
      "id": "pnl",
      "title": "P&L –æ—Ç—á—ë—Ç—ã",
      "banners": [
        {
          "id": "pnl_category",
          "title": "P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º",
          "description": "–ü—Ä–∏–±—ã–ª—å –∏ —É–±—ã—Ç–∫–∏ –≤ —Ä–∞–∑—Ä–µ–∑–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤",
          "icon": "folder-bar-chart",
          "action": "cfo.pnl_category",
          "enabled": true,
          "badge": null
        },
        {
          "id": "pnl_brand",
          "title": "P&L –ø–æ –±—Ä–µ–Ω–¥–∞–º",
          "description": "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –û—Ö–∞–Ω–∞ –ú–∞—Ä–∫–µ—Ç –∏ –û—Ö–∞–Ω–∞ –ö–∏–¥—Å",
          "icon": "tags",
          "action": "cfo.pnl_brand",
          "enabled": true,
          "badge": null
        },
        {
          "id": "pnl_marketplace",
          "title": "P&L –ø–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º",
          "description": "Wildberries vs Ozon vs –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç",
          "icon": "store",
          "action": "cfo.pnl_marketplace",
          "enabled": true,
          "badge": null
        },
        {
          "id": "pnl_sku",
          "title": "P&L –ø–æ SKU",
          "description": "–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ –∫–∞–∂–¥–æ–≥–æ –∞—Ä—Ç–∏–∫—É–ª–∞",
          "icon": "barcode",
          "action": "cfo.pnl_sku",
          "enabled": true,
          "badge": null,
          "min_role": "director"
        },
        {
          "id": "pnl_consolidated",
          "title": "–ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π P&L",
          "description": "–û–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –ø–æ –≤—Å–µ–º—É –±–∏–∑–Ω–µ—Å—É",
          "icon": "file-bar-chart",
          "action": "cfo.pnl_consolidated",
          "enabled": true,
          "badge": null,
          "min_role": "director"
        }
      ]
    },
    {
      "id": "product_analysis",
      "title": "–¢–æ–≤–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑",
      "banners": [
        {
          "id": "abc_analysis",
          "title": "ABC-–∞–Ω–∞–ª–∏–∑",
          "description": "–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è SKU –ø–æ –≤–∫–ª–∞–¥—É –≤ –ø—Ä–∏–±—ã–ª—å",
          "icon": "bar-chart-3",
          "action": "cfo.abc_analysis",
          "enabled": true,
          "badge": null
        },
        {
          "id": "loss_makers",
          "title": "–£–±—ã—Ç–æ—á–Ω—ã–µ SKU",
          "description": "–ü–æ–∑–∏—Ü–∏–∏ —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π –º–∞—Ä–∂–æ–π",
          "icon": "alert-triangle",
          "action": "cfo.loss_makers",
          "enabled": true,
          "badge": null
        },
        {
          "id": "top_profitable",
          "title": "–¢–æ–ø –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö",
          "description": "–õ–∏–¥–µ—Ä—ã –ø–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏",
          "icon": "trophy",
          "action": "cfo.top_profitable",
          "enabled": true,
          "badge": null
        }
      ]
    },
    {
      "id": "dynamics",
      "title": "–î–∏–Ω–∞–º–∏–∫–∞",
      "banners": [
        {
          "id": "chart_revenue",
          "title": "–î–∏–Ω–∞–º–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏",
          "description": "–ì—Ä–∞—Ñ–∏–∫ –≤—ã—Ä—É—á–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π",
          "icon": "trending-up",
          "action": "cfo.chart_revenue",
          "enabled": true,
          "badge": null
        },
        {
          "id": "chart_margin",
          "title": "–î–∏–Ω–∞–º–∏–∫–∞ –º–∞—Ä–∂–∏",
          "description": "–¢—Ä–µ–Ω–¥ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ –¥–Ω—è–º",
          "icon": "activity",
          "action": "cfo.chart_margin",
          "enabled": true,
          "badge": null
        },
        {
          "id": "chart_compare",
          "title": "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤",
          "description": "–¢–µ–∫—É—â–∏–π vs –ø—Ä–µ–¥—ã–¥—É—â–∏–π –ø–µ—Ä–∏–æ–¥",
          "icon": "git-compare-arrows",
          "action": "cfo.chart_compare",
          "enabled": true,
          "badge": null
        }
      ]
    },
    {
      "id": "warehouse",
      "title": "–°–∫–ª–∞–¥ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞",
      "banners": [
        {
          "id": "stock_balance",
          "title": "–û—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö",
          "description": "–¢–µ–∫—É—â–∏–µ –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º –∏ SKU",
          "icon": "package",
          "action": "cfo.stock_balance",
          "enabled": true,
          "badge": null
        },
        {
          "id": "shipments",
          "title": "–û—Ç–≥—Ä—É–∑–∫–∏ –Ω–∞ –ú–ü",
          "description": "–†–µ–µ—Å—Ç—Ä –æ—Ç–≥—Ä—É–∑–æ–∫ –∑–∞ –ø–µ—Ä–∏–æ–¥",
          "icon": "truck",
          "action": "cfo.shipments",
          "enabled": true,
          "badge": null
        },
        {
          "id": "returns",
          "title": "–í–æ–∑–≤—Ä–∞—Ç—ã",
          "description": "–ê–Ω–∞–ª–∏–∑ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –æ—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤",
          "icon": "undo-2",
          "action": "cfo.returns",
          "enabled": true,
          "badge": null
        },
        {
          "id": "inventory_value",
          "title": "–û—Ü–µ–Ω–∫–∞ –∑–∞–ø–∞—Å–æ–≤",
          "description": "–°—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö",
          "icon": "warehouse",
          "action": "cfo.inventory_value",
          "enabled": true,
          "badge": null
        }
      ]
    },
    {
      "id": "cost",
      "title": "–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å",
      "banners": [
        {
          "id": "cost_by_sku",
          "title": "–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ SKU",
          "description": "–ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–∑ 1–°",
          "icon": "calculator",
          "action": "cfo.cost_by_sku",
          "enabled": true,
          "badge": null
        },
        {
          "id": "supplier_prices",
          "title": "–¶–µ–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤",
          "description": "–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤",
          "icon": "receipt",
          "action": "cfo.supplier_prices",
          "enabled": true,
          "badge": null
        },
        {
          "id": "cost_dynamics",
          "title": "–î–∏–Ω–∞–º–∏–∫–∞ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏",
          "description": "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–∏",
          "icon": "chart-line",
          "action": "cfo.cost_dynamics",
          "enabled": true,
          "badge": null
        }
      ]
    },
    {
      "id": "ai",
      "title": "AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞",
      "banners": [
        {
          "id": "ai_digest",
          "title": "AI-–¥–∞–π–¥–∂–µ—Å—Ç –∑–∞ –Ω–µ–¥–µ–ª—é",
          "description": "–í—ã–≤–æ–¥—ã, –ø—Ä–æ–±–ª–µ–º—ã, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏",
          "icon": "sparkles",
          "action": "cfo.ai_digest",
          "enabled": true,
          "badge": "AI"
        },
        {
          "id": "ai_chat",
          "title": "–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å CFO",
          "description": "–°–≤–æ–±–æ–¥–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º",
          "icon": "message-square",
          "action": "cfo.ai_chat",
          "enabled": true,
          "badge": null,
          "action_type": "redirect_chat"
        }
      ]
    },
    {
      "id": "financial_health",
      "title": "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å",
      "min_role": "director",
      "source": "kb",
      "banners": [
        {
          "id": "liquidity",
          "title": "–ê–Ω–∞–ª–∏–∑ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏",
          "description": "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –ø–æ–∫—Ä—ã—Ç–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤",
          "icon": "shield-check",
          "action": "cfo.liquidity",
          "enabled": true
        },
        {
          "id": "debt_load",
          "title": "–î–æ–ª–≥–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞",
          "description": "–î–ó/–ö–ó, aging reports, –ø—Ä–æ—Å—Ä–æ—á–∫–∞",
          "icon": "scale",
          "action": "cfo.debt_load",
          "enabled": true
        },
        {
          "id": "ebitda",
          "title": "EBITDA –∏ —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å",
          "description": "EBITDA, ROS, ROE, ROA",
          "icon": "badge-percent",
          "action": "cfo.ebitda",
          "enabled": true
        },
        {
          "id": "financial_stability",
          "title": "–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å",
          "description": "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∞–≤—Ç–æ–Ω–æ–º–∏–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–ø–∏—Ç–∞–ª–∞",
          "icon": "building",
          "action": "cfo.financial_stability",
          "enabled": true
        }
      ]
    },
    {
      "id": "cash_flow",
      "title": "–î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫",
      "min_role": "director",
      "source": "kb",
      "banners": [
        {
          "id": "cash_flow_analysis",
          "title": "–ê–Ω–∞–ª–∏–∑ –î–î–°",
          "description": "–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π, —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ—Ç–æ–∫–∏",
          "icon": "banknote",
          "action": "cfo.cash_flow",
          "enabled": true
        },
        {
          "id": "cash_runway_report",
          "title": "Cash Runway (–ø—Ä–æ–≥–Ω–æ–∑)",
          "description": "–°–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è",
          "icon": "hourglass",
          "action": "cfo.cash_runway",
          "enabled": true
        },
        {
          "id": "working_capital",
          "title": "–û–±–æ—Ä–æ—Ç–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª",
          "description": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–∏–Ω–∞–º–∏–∫–∞ –æ–±–æ—Ä–æ—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤",
          "icon": "rotate-ccw",
          "action": "cfo.working_capital",
          "enabled": true
        }
      ]
    },
    {
      "id": "risks_forecasts",
      "title": "–†–∏—Å–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã",
      "min_role": "director",
      "source": "kb",
      "banners": [
        {
          "id": "critical_risks",
          "title": "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏",
          "description": "–†–µ–µ—Å—Ç—Ä —Ä–∏—Å–∫–æ–≤ —Å –æ—Ü–µ–Ω–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏ –≤–ª–∏—è–Ω–∏—è",
          "icon": "siren",
          "action": "cfo.critical_risks",
          "enabled": true,
          "badge": "!"
        },
        {
          "id": "forecast_scenarios",
          "title": "–ü—Ä–æ–≥–Ω–æ–∑ (3 —Å—Ü–µ–Ω–∞—Ä–∏—è)",
          "description": "–ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π / –±–∞–∑–æ–≤—ã–π / –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π",
          "icon": "git-branch",
          "action": "cfo.forecast",
          "enabled": true,
          "badge": "AI"
        },
        {
          "id": "roadmap",
          "title": "–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞",
          "description": "–ü–ª–∞–Ω –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –ø–æ –≤—ã—Ö–æ–¥—É –∏–∑ –∫—Ä–∏–∑–∏—Å–∞",
          "icon": "map",
          "action": "cfo.roadmap",
          "enabled": true
        },
        {
          "id": "audit_findings",
          "title": "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—É–¥–∏—Ç–∞",
          "description": "–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –∏ –∑–∞–º–µ—á–∞–Ω–∏—è",
          "icon": "clipboard-check",
          "action": "cfo.audit",
          "enabled": true
        }
      ]
    },
    {
      "id": "channels",
      "title": "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤",
      "source": "kb+1c",
      "banners": [
        {
          "id": "channel_margins",
          "title": "–ú–∞—Ä–∂–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º",
          "description": "–û–ø—Ç vs WB vs Ozon vs –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç",
          "icon": "git-compare-arrows",
          "action": "cfo.channel_margins",
          "enabled": true
        },
        {
          "id": "mp_commissions",
          "title": "–ö–æ–º–∏—Å—Å–∏–∏ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞ –ú–ü",
          "description": "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º",
          "icon": "receipt",
          "action": "cfo.mp_commissions",
          "enabled": true
        },
        {
          "id": "redemption_rate",
          "title": "–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∫—É–ø–∞",
          "description": "–ê–Ω–∞–ª–∏–∑ –≤—ã–∫—É–ø–∞ –ø–æ –ú–ü –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º",
          "icon": "package-check",
          "action": "cfo.redemption_rate",
          "enabled": true
        },
        {
          "id": "mp_benchmark",
          "title": "–ë–µ–Ω—á–º–∞—Ä–∫ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤",
          "description": "–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤",
          "icon": "bar-chart-horizontal",
          "action": "cfo.mp_benchmark",
          "enabled": true
        }
      ]
    },
    {
      "id": "debt_suppliers",
      "title": "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏",
      "min_role": "director",
      "source": "kb",
      "banners": [
        {
          "id": "dz_aging",
          "title": "–î–ó ‚Äî aging report",
          "description": "–î–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ —Å—Ä–æ–∫–∞–º",
          "icon": "clock",
          "action": "cfo.dz_aging",
          "enabled": true
        },
        {
          "id": "kz_aging",
          "title": "–ö–ó ‚Äî aging report",
          "description": "–ö—Ä–µ–¥–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ —Å—Ä–æ–∫–∞–º",
          "icon": "timer",
          "action": "cfo.kz_aging",
          "enabled": true
        },
        {
          "id": "suppliers_analysis",
          "title": "–ê–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤",
          "description": "–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, —É—Å–ª–æ–≤–∏—è, —Ä–∏—Å–∫–∏",
          "icon": "handshake",
          "action": "cfo.suppliers_analysis",
          "enabled": true
        },
        {
          "id": "inventory_deadstock",
          "title": "–ù–µ–ª–∏–∫–≤–∏–¥ –∏ –∑–∞–ø–∞—Å—ã",
          "description": "–û—Ü–µ–Ω–∫–∞ –Ω–µ–ª–∏–∫–≤–∏–¥–∞, –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º–æ—Å—Ç—å",
          "icon": "archive-x",
          "action": "cfo.inventory_deadstock",
          "enabled": true
        }
      ]
    }
  ]
}
```

### 4.4.3 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ Launcher

–î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ KPI-—à–∞–ø–∫–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π JSON-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CFO —Ä–∞—Å—à–∏—Ä—è–µ—Ç –±–∞–∑–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç Launcher (Core 3.1):

| –ü–æ–ª–µ | –¢–∏–ø | –ë–∞–∑–æ–≤—ã–π Launcher | CFO Extension |
|------|-----|:----------------:|:-------------:|
| \`module\` | string | ‚úÖ | ‚úÖ |
| \`banners[]\` | array | ‚úÖ (–ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫) | ‚Äî |
| \`categories[]\` | array | ‚Äî | ‚úÖ (–≥—Ä—É–ø–ø—ã –±–∞–Ω–Ω–µ—Ä–æ–≤) |
| \`kpi_endpoint\` | string | ‚Äî | ‚úÖ |
| \`banners[].min_role\` | string | ‚Äî | ‚úÖ |
| \`banners[].action_type\` | string | ‚Äî | ‚úÖ (\`direct\` / \`redirect_chat\` / \`redirect\`) |
| \`categories[].min_role\` | string | ‚Äî | ‚úÖ (—Å–∫—Ä—ã—Ç—å –≤—Å—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é) |
| \`categories[].source\` | string | ‚Äî | ‚úÖ (\`1c\` / \`kb\` / \`kb+1c\` / \`api\`) |
| \`metrics[].severity\` | string | ‚Äî | ‚úÖ (\`normal\` / \`warning\` / \`critical\`) |
| \`metrics[].threshold\` | object | ‚Äî | ‚úÖ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç severity) |

Launcher API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç –ø–æ –Ω–∞–ª–∏—á–∏—é –ø–æ–ª—è \`categories\`: –µ—Å–ª–∏ –µ—Å—Ç—å ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–µ—Ç–∫—É, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å).

---

## 4.5 –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–°—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã **shadcn/ui Charts** –Ω–∞ –±–∞–∑–µ **Recharts** –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤. –°—Ç–∏–ª–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ \`--chart-1\` ... \`--chart-5\` –∏–∑ \`shadcn-variables.css\`.

### 4.5.1 –¢–∏–ø—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤

| –¢–∏–ø | shadcn/ui Component | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-----|---------------------|------------|
| Area Chart | \`AreaChart\` | –î–∏–Ω–∞–º–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏, –ø—Ä–∏–±—ã–ª–∏, Cash Runway |
| Bar Chart | \`BarChart\` | P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ú–ü, –º–∞—Ä–∂–∞ –∫–∞–Ω–∞–ª–æ–≤ |
| Stacked Bar | \`BarChart stacked\` | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤, aging –î–ó/–ö–ó, –∫–æ–º–∏—Å—Å–∏–∏ –ú–ü |
| Line Chart | \`LineChart\` | –¢—Ä–µ–Ω–¥ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –ø—Ä–æ–≥–Ω–æ–∑ (3 —Å—Ü–µ–Ω–∞—Ä–∏—è) |
| Pie / Donut | \`PieChart\` | –î–æ–ª—è –ú–ü –≤ –≤—ã—Ä—É—á–∫–µ, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ABC, –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ |
| Gauge | –ö–∞—Å—Ç–æ–º–Ω—ã–π (Recharts) | –õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, Cash Runway, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ |
| Radar Chart | \`RadarChart\` | –ë–µ–Ω—á–º–∞—Ä–∫ –ú–ü, —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å |
| Waterfall | –ö–∞—Å—Ç–æ–º–Ω—ã–π (Recharts) | –ê–Ω–∞–ª–∏–∑ –î–î–° (–æ–ø–µ—Ä–∞—Ü. ‚Üí –∏–Ω–≤–µ—Å—Ç. ‚Üí —Ñ–∏–Ω.) |
| Radial Chart | \`RadialChart\` | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ (v2.0) |

### 4.5.2 –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤

**–î–∏–Ω–∞–º–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏ (Area Chart)**

Executor: \`cfo.chart_revenue\`

```json
{
  "chart_type": "area",
  "title": "–î–∏–Ω–∞–º–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏",
  "period": "30d",
  "x_key": "date",
  "series": [
    {"key": "revenue", "label": "–í—ã—Ä—É—á–∫–∞", "color": "var(--chart-1)"},
    {"key": "profit", "label": "–ü—Ä–∏–±—ã–ª—å", "color": "var(--chart-2)"}
  ],
  "data": [
    {"date": "2026-01-15", "revenue": 750000, "profit": 320000},
    {"date": "2026-01-16", "revenue": 680000, "profit": 290000}
  ]
}
```

**P&L –ø–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º (Bar Chart)**

Executor: \`cfo.pnl_marketplace\`

```json
{
  "chart_type": "bar",
  "title": "P&L –ø–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º",
  "x_key": "marketplace",
  "series": [
    {"key": "revenue", "label": "–í—ã—Ä—É—á–∫–∞", "color": "var(--chart-1)"},
    {"key": "expenses", "label": "–†–∞—Å—Ö–æ–¥—ã", "color": "var(--chart-5)"},
    {"key": "profit", "label": "–ü—Ä–∏–±—ã–ª—å", "color": "var(--chart-2)"}
  ],
  "data": [
    {"marketplace": "Wildberries", "revenue": 3500000, "expenses": 1925000, "profit": 1575000},
    {"marketplace": "Ozon", "revenue": 1200000, "expenses": 780000, "profit": 420000},
    {"marketplace": "–Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç", "revenue": 550000, "expenses": 308000, "profit": 242000}
  ]
}
```

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ABC (Pie Chart)**

Executor: \`cfo.abc_analysis\`

```json
{
  "chart_type": "pie",
  "title": "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏ –ø–æ ABC",
  "data": [
    {"class": "A", "value": 7200000, "count": 47, "fill": "var(--abc-a)"},
    {"class": "B", "value": 1350000, "count": 89, "fill": "var(--abc-b)"},
    {"class": "C", "value": 450000, "count": 156, "fill": "var(--abc-c)"},
    {"class": "D", "value": -180000, "count": 23, "fill": "var(--abc-d)"}
  ]
}
```

**–î–∏–Ω–∞–º–∏–∫–∞ –º–∞—Ä–∂–∏ (Line Chart)**

Executor: \`cfo.chart_margin\`

```json
{
  "chart_type": "line",
  "title": "–¢—Ä–µ–Ω–¥ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏",
  "x_key": "date",
  "y_suffix": "%",
  "reference_line": {"value": 40, "label": "–¶–µ–ª–µ–≤–∞—è –º–∞—Ä–∂–∞"},
  "series": [
    {"key": "margin_wb", "label": "Wildberries", "color": "#CB11AB"},
    {"key": "margin_ozon", "label": "Ozon", "color": "#005BFF"},
    {"key": "margin_ym", "label": "–Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç", "color": "#FFCC00"}
  ],
  "data": [
    {"date": "2026-01-15", "margin_wb": 45.2, "margin_ozon": 38.1, "margin_ym": 41.5}
  ]
}
```

### 4.5.3 –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | CSS Variable | –¶–≤–µ—Ç |
|------------|-------------|------|
| –°–µ—Ä–∏—è 1 (–æ—Å–Ω–æ–≤–Ω–∞—è) | \`--chart-1\` | –°–∏–Ω–∏–π |
| –°–µ—Ä–∏—è 2 (–ø—Ä–∏–±—ã–ª—å) | \`--chart-2\` | –ó–µ–ª—ë–Ω—ã–π |
| –°–µ—Ä–∏—è 3 (–Ω–µ–π—Ç—Ä–∞–ª) | \`--chart-3\` | –°–µ—Ä—ã–π |
| –°–µ—Ä–∏—è 4 (–∞–∫—Ü–µ–Ω—Ç) | \`--chart-4\` | –ñ—ë–ª—Ç—ã–π |
| –°–µ—Ä–∏—è 5 (—Ä–∞—Å—Ö–æ–¥—ã) | \`--chart-5\` | –ö—Ä–∞—Å–Ω—ã–π |
| Wildberries | \`--mp-wb\` | #CB11AB |
| Ozon | \`--mp-ozon\` | #005BFF |
| –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç | \`--mp-ym\` | #FFCC00 |
| ABC A | \`--abc-a\` | –ó–µ–ª—ë–Ω—ã–π |
| ABC B | \`--abc-b\` | –°–∏–Ω–∏–π |
| ABC C | \`--abc-c\` | –ñ—ë–ª—Ç—ã–π |
| ABC D | \`--abc-d\` | –ö—Ä–∞—Å–Ω—ã–π |

---

## 4.6 Result Page

–ü—Ä–∏ –∫–ª–∏–∫–µ –ø–æ –±–∞–Ω–Ω–µ—Ä—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ \`/apps/cfo/result\`. –§–æ—Ä–º–∞—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –æ—Ç—á—ë—Ç–∞.

### 4.6.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Result Page

–ö–∞–∂–¥–∞—è Result Page —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –±–ª–æ–∫–∏ (—Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑): –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥ –∏ breadcrumb, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–µ—Ä–∏–æ–¥–∞, –≥—Ä–∞—Ñ–∏–∫ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ), —Ç–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö, —Å–≤–æ–¥–∫–∞ (–∏—Ç–æ–≥–æ), –∫–Ω–æ–ø–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞.

### 4.6.2 –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–µ—Ä–∏–æ–¥–∞

–í—Å–µ –æ—Ç—á—ë—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –¥–∞—à–±–æ—Ä–¥:

| –ö–Ω–æ–ø–∫–∞ | –ü–µ—Ä–∏–æ–¥ | API-–ø–∞—Ä–∞–º–µ—Ç—Ä |
|--------|--------|-------------|
| –ù–µ–¥ | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π | \`period=week\` |
| –ú–µ—Å | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π | \`period=month\` |
| –ö–≤ | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 90 –¥–Ω–µ–π | \`period=quarter\` |

–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –ø–µ—Ä–∏–æ–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–æ—Ç –∂–µ executor —Å –Ω–æ–≤—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º.

### 4.6.3 –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É –æ—Ç—á—ë—Ç–∞–º–∏

–ù–∞ –∫–∞–∂–¥–æ–π Result Page –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–≤—è–∑–∞–Ω–Ω—ã–º –æ—Ç—á—ë—Ç–∞–º:

| –¢–µ–∫—É—â–∏–π –æ—Ç—á—ë—Ç | –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ |
|---------------|------------------|
| P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º | –ü–æ –±—Ä–µ–Ω–¥–∞–º, –ü–æ –ú–ü, ABC-–∞–Ω–∞–ª–∏–∑, Excel |
| P&L –ø–æ –±—Ä–µ–Ω–¥–∞–º | –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –ü–æ –ú–ü, –ü–æ SKU*, Excel |
| P&L –ø–æ –ú–ü | –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, –ü–æ –±—Ä–µ–Ω–¥–∞–º, Excel |
| P&L –ø–æ SKU | –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, ABC-–∞–Ω–∞–ª–∏–∑, –£–±—ã—Ç–æ—á–Ω—ã–µ, Excel |
| ABC-–∞–Ω–∞–ª–∏–∑ | –£–±—ã—Ç–æ—á–Ω—ã–µ SKU, –¢–æ–ø –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö, AI-–¥–∞–π–¥–∂–µ—Å—Ç, Excel |
| –£–±—ã—Ç–æ—á–Ω—ã–µ SKU | AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, ABC-–∞–Ω–∞–ª–∏–∑, Excel |
| –û—Å—Ç–∞—Ç–∫–∏ | –û—Ç–≥—Ä—É–∑–∫–∏, –û—Ü–µ–Ω–∫–∞ –∑–∞–ø–∞—Å–æ–≤ |
| –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å | –¶–µ–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –î–∏–Ω–∞–º–∏–∫–∞ |

### 4.6.4 –≠–∫—Å–ø–æ—Ä—Ç

–í—Å–µ —Ç–∞–±–ª–∏—á–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —ç–∫—Å–ø–æ—Ä—Ç:

| –§–æ—Ä–º–∞—Ç | –ö–Ω–æ–ø–∫–∞ | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|--------|--------|------------|
| Excel | üì• Excel | \`cfo.export\` ‚Üí \`.xlsx\` —Ñ–∞–π–ª |
| PDF | üìÑ PDF | \`cfo.export\` ‚Üí \`.pdf\` —Ñ–∞–π–ª |
| –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å | üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å | Clipboard API ‚Üí markdown-—Ç–∞–±–ª–∏—Ü–∞ |

---

## 4.7 –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

–ú–æ–¥—É–ª—å CFO –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ –∫–ª–∞—Å—Å–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. **–û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ** ‚Äî 13 —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã–≥—Ä—É–∑–æ–∫ –∏–∑ 1–°:–ö–ê 2 (—Å–º. \`brain_1c_ka2_exports_registry_v1_1\`), –ø–æ—Å—Ç—É–ø–∞—é—Ç —á–µ—Ä–µ–∑ ETL Core. **–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ** ‚Äî ~90 –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ KB Qdrant (—Å–º. \`Perechen_dokumentov_proekta_Ohana\`), –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ \`kb_service\`.

### 4.7.1 –ú–∞–ø–ø–∏–Ω–≥ 1–° ‚Üí CFO Dashboard

| –í—ã–≥—Ä—É–∑–∫–∞ 1–° | –ö–æ–¥ —Ñ–∞–π–ª–∞ | –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å | –ë–∞–Ω–Ω–µ—Ä—ã CFO |
|-------------|-----------|---------------|-------------|
| –û—Å—Ç–∞—Ç–∫–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å | \`stock_balance\` | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ | –û—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö, KPI "–û—Å—Ç–∞—Ç–∫–∏" |
| –í–µ–¥–æ–º–æ—Å—Ç—å –ø–æ —Ç–æ–≤–∞—Ä–∞–º | \`stock_movement\` | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ | (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–∞—Å—á—ë—Ç—ã) |
| –†–µ–µ—Å—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ–¥–∞–∂–∏ | \`orders_shipped\` | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ | –û—Ç–≥—Ä—É–∑–∫–∏ –Ω–∞ –ú–ü, KPI "–û—Ç–≥—Ä—É–∑–∫–∏" |
| –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤ | \`cost_prices\` | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ | –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ SKU, P&L —Ä–∞—Å—á—ë—Ç—ã |
| –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ | \`product_catalog\` | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ | (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤) |
| –¶–µ–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ | \`suppliers_prices\` | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ | –¶–µ–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ |
| –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ | \`returns_register\` | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ | –í–æ–∑–≤—Ä–∞—Ç—ã |
| –í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å | \`financial_summary\` | –ï–∂–µ–º–µ—Å—è—á–Ω–æ | P&L –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ |
| –û—Å—Ç–∞—Ç–∫–∏ (—Å—Ä–µ–∑) | \`inventory_valuation\` | –ï–∂–µ–º–µ—Å—è—á–Ω–æ | –û—Ü–µ–Ω–∫–∞ –∑–∞–ø–∞—Å–æ–≤ |
| –î–æ–≥–æ–≤–æ—Ä—ã | \`contracts_register\` | –ï–∂–µ–º–µ—Å—è—á–Ω–æ | (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫) |
| –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã | \`counterparties\` | –ï–∂–µ–º–µ—Å—è—á–Ω–æ | (—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫) |
| –ö–≤–∞—Ä—Ç–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å | \`quarter_pnl\` | –ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤ |
| –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è | \`quarter_inventory_audit\` | –ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ | (–∫–æ–Ω—Ç—Ä–æ–ª—å) |

### 4.7.2 –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ KB (Qdrant)

–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö, —Ö—Ä–∞–Ω—è—â–∏—Ö—Å—è –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π Qdrant. –î–æ–∫—É–º–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –æ—Ç—á—ë—Ç–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤.

**–ú–∞–ø–ø–∏–Ω–≥ KB ‚Üí CFO Dashboard**

| –î–æ–∫—É–º–µ–Ω—Ç KB | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ë–∞–Ω–Ω–µ—Ä—ã / KPI |
|-------------|-----------|---------------|
| \`Ohana_Financial_Data_Base\` | –§–∏–Ω. —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å | EBITDA, —Ä–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å, —Å–≤–æ–¥–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ |
| \`section_2_1_key_metrics\` | –§–∏–Ω. —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å | EBITDA, ROS, ROE, ROA |
| \`section_2_2_liquidity\` | –§–∏–Ω. —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å | KPI ¬´–¢–µ–∫. –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å¬ª, –±–∞–Ω–Ω–µ—Ä ¬´–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å¬ª |
| \`section_2_3_financial_stability\` | –§–∏–Ω. —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å | –ë–∞–Ω–Ω–µ—Ä ¬´–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å¬ª |
| \`section_2_4_cash_flow\` | –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ | –ë–∞–Ω–Ω–µ—Ä ¬´–ê–Ω–∞–ª–∏–∑ –î–î–°¬ª |
| \`dds_analysis\` | –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ | KPI ¬´Cash Runway¬ª, –±–∞–Ω–Ω–µ—Ä ¬´Cash Runway¬ª |
| \`2_3_kommercheskie_rashody\` | KPI (—Å—Ç—Ä–∞—Ç–µ–≥.) | KPI ¬´–ö–æ–º–º–µ—Ä—á. —Ä–∞—Å—Ö–æ–¥—ã¬ª, –±–∞–Ω–Ω–µ—Ä ¬´–ö–æ–º–∏—Å—Å–∏–∏ –ú–ü¬ª |
| \`2_5_debitorskaya_kreditorskaya\` | –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å | KPI ¬´–ö–ó –ø—Ä–æ—Å—Ä–æ—á.¬ª, –±–∞–Ω–Ω–µ—Ä—ã ¬´–î–ó/–ö–ó aging¬ª |
| \`2_6_zapasy_nelikvid\` | –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å | KPI ¬´–ù–µ–ª–∏–∫–≤–∏–¥¬ª, –±–∞–Ω–Ω–µ—Ä ¬´–ù–µ–ª–∏–∫–≤–∏–¥ –∏ –∑–∞–ø–∞—Å—ã¬ª |
| \`2_8_oborotno_saldovye\` | –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ | –ë–∞–Ω–Ω–µ—Ä ¬´–û–±–æ—Ä–æ—Ç–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª¬ª |
| \`2_9_kadry_i_fot\` | KPI (–æ–ø–µ—Ä–∞—Ç.) | KPI ¬´–í—ã—Ä—É—á–∫–∞ / —Å–æ—Ç—Ä.¬ª |
| \`2_13_Analiz_postavshchikov\` | –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å | –ë–∞–Ω–Ω–µ—Ä ¬´–ê–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤¬ª |
| \`section_1_2_critical_risks\` | –†–∏—Å–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã | –ë–∞–Ω–Ω–µ—Ä ¬´–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏¬ª |
| \`section_1_3_roadmap\` | –†–∏—Å–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã | –ë–∞–Ω–Ω–µ—Ä ¬´–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞¬ª |
| \`section_3_1_channel_margins\` | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤ | –ë–∞–Ω–Ω–µ—Ä ¬´–ú–∞—Ä–∂–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º¬ª |
| \`section_3_2_logistics_commissions\` | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤ | –ë–∞–Ω–Ω–µ—Ä ¬´–ö–æ–º–∏—Å—Å–∏–∏ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞ –ú–ü¬ª |
| \`section_3_3_redemption_rate\` | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤ | –ë–∞–Ω–Ω–µ—Ä ¬´–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∫—É–ø–∞¬ª |
| \`section_4_1_inventory\` | –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å | –ë–∞–Ω–Ω–µ—Ä ¬´–ù–µ–ª–∏–∫–≤–∏–¥ –∏ –∑–∞–ø–∞—Å—ã¬ª |
| \`section_5_forecast\` | –†–∏—Å–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã | KPI ¬´–ü—Ä–æ–≥–Ω–æ–∑ –≤—ã—Ä—É—á–∫–∏¬ª, –±–∞–Ω–Ω–µ—Ä ¬´–ü—Ä–æ–≥–Ω–æ–∑ (3 —Å—Ü–µ–Ω–∞—Ä–∏—è)¬ª |
| \`section_7_audit\` | –†–∏—Å–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã | –ë–∞–Ω–Ω–µ—Ä ¬´–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞—É–¥–∏—Ç–∞¬ª |
| \`abc_xyz_analysis\` | –¢–æ–≤–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ | –ë–∞–Ω–Ω–µ—Ä ¬´ABC-–∞–Ω–∞–ª–∏–∑¬ª (–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ) |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ WB/Ozon/YM | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤ | –ë–∞–Ω–Ω–µ—Ä ¬´–ë–µ–Ω—á–º–∞—Ä–∫ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤¬ª |

**–ú–µ—Ö–∞–Ω–∏–∑–º –¥–æ—Å—Ç—É–ø–∞ –∫ KB:**

```mermaid
flowchart LR
    EXECUTOR["CFO Executor"]
    KB_SVC["kb_service"]
    QDRANT["Qdrant"]
    CACHE["Redis Cache"]
    RESULT["–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç"]

    EXECUTOR -->|"RAG-–∑–∞–ø—Ä–æ—Å"| KB_SVC
    KB_SVC --> CACHE
    CACHE -->|"miss"| QDRANT
    QDRANT -->|"chunks"| KB_SVC
    KB_SVC -->|"LLM extract"| RESULT
    RESULT --> EXECUTOR
```

Executors –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ KB —á–µ—Ä–µ–∑ \`kb_service.query()\`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç RAG-–ø–æ–∏—Å–∫ –ø–æ Qdrant —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ Redis (TTL = 1 —á–∞—Å –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç—Ä–∏–∫). LLM –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—á–∏—Å–ª–∞, –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, –¥–∞—Ç—ã) –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤.

### 4.7.3 –ü—Ä–æ–≥–Ω–æ–∑–Ω–∞—è –º–æ–¥–µ–ª—å

–ë–∞–Ω–Ω–µ—Ä ¬´–ü—Ä–æ–≥–Ω–æ–∑ (3 —Å—Ü–µ–Ω–∞—Ä–∏—è)¬ª –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ KB –∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã 1–° –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞:

| –°—Ü–µ–Ω–∞—Ä–∏–π | –ò—Å—Ç–æ—á–Ω–∏–∫ | –õ–æ–≥–∏–∫–∞ |
|----------|----------|--------|
| –ü–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π | KB (\`section_5_forecast\`) + —Ç—Ä–µ–Ω–¥ 1–° | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –¥–∏–Ω–∞–º–∏–∫–∏ –ø–∞–¥–µ–Ω–∏—è |
| –ë–∞–∑–æ–≤—ã–π | KB + —Ç—Ä–µ–Ω–¥ 1–° + —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å | –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è —Å —É—á—ë—Ç–æ–º —Å–µ–∑–æ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ |
| –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π | KB + —Ç—Ä–µ–Ω–¥ 1–° + —ç—Ñ—Ñ–µ–∫—Ç –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è roadmap + —Ä–æ—Å—Ç –ú–ü-–∫–∞–Ω–∞–ª–∞ |

–ü—Ä–æ–≥–Ω–æ–∑ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ Celery-–∑–∞–¥–∞—á—É \`cfo_update_forecast\`, –∫–æ—Ç–æ—Ä–∞—è:

1. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–∑ KB (\`section_5_forecast\`)
2. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 –Ω–µ–¥–µ–ª–∏ –∏–∑ 1–°
3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç —Å–µ–∑–æ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏–∑ KB (\`2_10_svodnye_otchety\` ‚Äî –ø–æ–º–µ—Å—è—á–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞)
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ \`cfo_forecasts\` (PostgreSQL)

```mermaid
flowchart TB
    subgraph INPUTS["–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"]
        KB_FORECAST["KB: section_5_forecast<br/>–ë–∞–∑–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏"]
        KB_SEASON["KB: 2_10_svodnye_otchety<br/>–°–µ–∑–æ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã"]
        ACTUAL["1–°: cfo_pnl_daily<br/>–§–∞–∫—Ç –∑–∞ 4 –Ω–µ–¥–µ–ª–∏"]
    end

    CELERY["Celery: cfo_update_forecast<br/>(–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ)"]

    subgraph MODEL["–ú–æ–¥–µ–ª—å –ø—Ä–æ–≥–Ω–æ–∑–∞"]
        EXTRACT["–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤"]
        ADJUST["–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ —Ñ–∞–∫—Ç"]
        SEASON["–°–µ–∑–æ–Ω–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞"]
    end

    subgraph OUTPUT["–†–µ–∑—É–ª—å—Ç–∞—Ç"]
        PG["cfo_forecasts"]
        CHART["Gauge / Area Chart"]
    end

    KB_FORECAST --> EXTRACT
    ACTUAL --> ADJUST
    KB_SEASON --> SEASON

    CELERY --> EXTRACT
    EXTRACT --> ADJUST
    ADJUST --> SEASON
    SEASON --> PG
    PG --> CHART
```

---

## 4.8 –ï–¥–∏–Ω—ã–π —á–∞—Ç (—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã)

–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ **–µ–¥–∏–Ω—ã–π —á–∞—Ç \`@Adolf\`** –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ Open WebUI ‚Äî —Ç–æ—Ç –∂–µ Pipeline, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤—ã–±–∏—Ä–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π Pipeline; –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫ CFO Tools –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ (—Å–º. [Core 1.2: Pipelines](/core/adolf_core_1_2_open_webui_pipelines)).

### 4.8.1 –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

–ï–¥–∏–Ω—ã–π Pipeline \`@Adolf\` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç intent –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ Middleware –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ Tools:

```mermaid
flowchart LR
    USER["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:<br/>'–ü–æ–∫–∞–∂–∏ P&L –∑–∞ –Ω–µ–¥–µ–ª—é'"]
    ADOLF["Pipeline @Adolf"]
    MW["Middleware<br/>intent detection"]
    CFO_TOOLS["CFO Tools"]
    OTHER["–î—Ä—É–≥–∏–µ Tools"]

    USER --> ADOLF
    ADOLF --> MW
    MW -->|"—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å"| CFO_TOOLS
    MW -->|"–¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å"| OTHER
```

–ü—Ä–∏–º–µ—Ä—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∫ CFO:

| –ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –û–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π intent | Tool |
|---------------------|---------------------|------|
| ¬´–ü–æ–∫–∞–∂–∏ P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º¬ª | finance.pnl | \`cfo_pnl_by_category\` |
| ¬´–°–∫–æ–ª—å–∫–æ —É–±—ã—Ç–æ—á–Ω—ã—Ö SKU?¬ª | finance.abc | \`cfo_loss_makers\` |
| ¬´–ö–∞–∫–∏–µ –æ—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ?¬ª | finance.stock | \`cfo_stock_balance\` |
| ¬´–°—Ä–∞–≤–Ω–∏ –º–∞—Ä–∂—É WB –∏ Ozon¬ª | finance.custom | \`cfo_custom_report\` |

### 4.8.2 –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–æ—Å—Ç—É–ø

Pipeline \`@Adolf\` –ø–µ—Ä–µ–¥–∞—ë—Ç —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–∞–∂–¥—ã–π Tool. –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ Tools —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–æ–ª–∏:

| –†–æ–ª—å | –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —á–∞—Ç–µ |
|------|-------------------------------------|
| Staff | –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º Tools |
| Manager | –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º Tools |
| Senior | P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º/–±—Ä–µ–Ω–¥–∞–º/–ú–ü, ABC-–∞–Ω–∞–ª–∏–∑, –æ—Å—Ç–∞—Ç–∫–∏, –æ—Ç–≥—Ä—É–∑–∫–∏ |
| Director | –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ Senior + P&L –ø–æ SKU, –∫–∞—Å—Ç–æ–º–Ω—ã–µ –æ—Ç—á—ë—Ç—ã, AI-–∏–Ω—Å–∞–π—Ç—ã |
| Admin | –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ Director + –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–æ–≤ |

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π —Ä–æ–ª—å—é –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, Pipeline –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–∞.

### 4.8.3 –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è LLM

Middleware –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ finance-intent:

```python
CFO_CONTEXT_INJECTION = """
–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–º–æ–¥—É–ª—å CFO):

–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. P&L –æ—Ç—á—ë—Ç—ã (SKU, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –±—Ä–µ–Ω–¥—ã, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã)
2. ABC-–∞–Ω–∞–ª–∏–∑ —Ç–æ–≤–∞—Ä–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è
3. –î–∞–Ω–Ω—ã–µ –∏–∑ 1–° (–æ—Å—Ç–∞—Ç–∫–∏, –æ—Ç–≥—Ä—É–∑–∫–∏, –≤–æ–∑–≤—Ä–∞—Ç—ã, —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å)
4. AI-–∏–Ω—Å–∞–π—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
5. –ö–∞—Å—Ç–æ–º–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É

–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã: Wildberries (wb), Ozon (ozon), –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç (ym)
–ë—Ä–µ–Ω–¥—ã: –û—Ö–∞–Ω–∞ –ú–∞—Ä–∫–µ—Ç (ohana_market), –û—Ö–∞–Ω–∞ –ö–∏–¥—Å (ohana_kids)

–ü—Ä–∞–≤–∏–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- –ß–∏—Å–ª–∞ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á (1 234 567 ‚ÇΩ)
- –ü—Ä–æ—Ü–µ–Ω—Ç—ã –¥–æ 1 –∑–Ω–∞–∫–∞ (15.3%)
- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö
- –î–ª—è —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –æ—Å–Ω–æ–≤–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ CFO (sidebar ‚Üí –§–∏–Ω–∞–Ω—Å—ã).
–í —á–∞—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–¥–∞–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É–≥–ª—É–±–ª—ë–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
- –†–æ–ª—å: {user_role}
- –ë—Ä–µ–Ω–¥: {user_brand}
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: {role_restrictions}
"""
```

### 4.8.4 –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –¥–∞—à–±–æ—Ä–¥–∞ –∏ —á–∞—Ç–∞

–î–∞—à–±–æ—Ä–¥ –∏ —á–∞—Ç –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ Tools**, –Ω–æ —á–µ—Ä–µ–∑ —Ä–∞–∑–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞:

| –ê—Å–ø–µ–∫—Ç | –î–∞—à–±–æ—Ä–¥ (/apps/cfo) | –ß–∞—Ç (@Adolf) |
|--------|---------------------|--------------|
| –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ | Sidebar ‚Üí CFO | –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω Open WebUI |
| –ó–∞–ø—É—Å–∫ | –ö–ª–∏–∫ –ø–æ –±–∞–Ω–Ω–µ—Ä—É ‚Üí Executor | –¢–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å ‚Üí Tool |
| –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (–ø–µ—Ä–∏–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –ò–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ |
| –†–µ–∑—É–ª—å—Ç–∞—Ç | –¢–∞–±–ª–∏—Ü–∞ + –≥—Ä–∞—Ñ–∏–∫ –Ω–∞ Result Page | Markdown-–æ—Ç–≤–µ—Ç –≤ —á–∞—Ç–µ |
| –ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã | –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã | –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| –ù–∞–≤–∏–≥–∞—Ü–∏—è | –ë–∞–Ω–Ω–µ—Ä—ã ‚Üí —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç—ã | –°–≤–æ–±–æ–¥–Ω—ã–π –¥–∏–∞–ª–æ–≥ |

–ë–∞–Ω–Ω–µ—Ä ¬´–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å CFO¬ª –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ (\`action_type: redirect_chat\`) –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω Open WebUI.

**–ù–æ–≤—ã–µ Tools v1.1:**

| Tool | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ 1–° |
|------|----------|-------------|
| \`cfo_stock_balance\` | –û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö | \`stock_balance\` |
| \`cfo_shipments\` | –û—Ç–≥—Ä—É–∑–∫–∏ –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã | \`orders_shipped\` |
| \`cfo_returns\` | –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ | \`returns_register\` |
| \`cfo_inventory_value\` | –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–ø–∞—Å–æ–≤ | \`inventory_valuation\` |
| \`cfo_supplier_prices\` | –¶–µ–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ | \`suppliers_prices\` |
| \`cfo_cost_dynamics\` | –î–∏–Ω–∞–º–∏–∫–∞ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ | \`cost_prices\` (–∏—Å—Ç–æ—Ä–∏—è) |
| \`cfo_top_profitable\` | –¢–æ–ø –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö SKU | \`cfo_pnl_daily\` |
| \`cfo_chart_revenue\` | –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏ | \`cfo_pnl_daily\` |
| \`cfo_chart_margin\` | –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ –º–∞—Ä–∂–∏ | \`cfo_pnl_daily\` |
| \`cfo_chart_compare\` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –ø–µ—Ä–∏–æ–¥–æ–≤ | \`cfo_pnl_aggregated\` |

**–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö Tools –¥–ª—è LLM:**

```json
[
  {
    "name": "cfo_stock_balance",
    "description": "–û—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–∞—Ö. –î–∞–Ω–Ω—ã–µ –∏–∑ 1–° (–µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –≤—ã–≥—Ä—É–∑–∫–∞).",
    "parameters": {
      "type": "object",
      "properties": {
        "warehouse_code": {
          "type": "string",
          "description": "–ö–æ–¥ —Å–∫–ª–∞–¥–∞ (all –¥–ª—è –≤—Å–µ—Ö)",
          "default": "all"
        },
        "sku": {
          "type": "string",
          "description": "–§–∏–ª—å—Ç—Ä –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É"
        },
        "limit": {"type": "integer", "default": 50}
      }
    }
  },
  {
    "name": "cfo_shipments",
    "description": "–û—Ç–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã. –î–∞–Ω–Ω—ã–µ –∏–∑ 1–°.",
    "parameters": {
      "type": "object",
      "properties": {
        "period": {"type": "string", "default": "week"},
        "marketplace": {
          "type": "string",
          "enum": ["all", "Wildberries", "Ozon", "–Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç"],
          "default": "all"
        }
      }
    }
  },
  {
    "name": "cfo_returns",
    "description": "–ê–Ω–∞–ª–∏–∑ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –æ—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤. –î–∞–Ω–Ω—ã–µ –∏–∑ 1–° (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ).",
    "parameters": {
      "type": "object",
      "properties": {
        "period": {"type": "string", "default": "week"},
        "marketplace": {
          "type": "string",
          "enum": ["all", "Wildberries", "Ozon", "–Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç"],
          "default": "all"
        },
        "group_by": {
          "type": "string",
          "enum": ["sku", "marketplace", "date"],
          "default": "sku"
        }
      }
    }
  },
  {
    "name": "cfo_supplier_prices",
    "description": "–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤. –î–∞–Ω–Ω—ã–µ –∏–∑ 1–° (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ).",
    "parameters": {
      "type": "object",
      "properties": {
        "supplier_code": {"type": "string", "description": "–ö–æ–¥ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (all –¥–ª—è –≤—Å–µ—Ö)", "default": "all"},
        "sku": {"type": "string", "description": "–§–∏–ª—å—Ç—Ä –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É"}
      }
    }
  },
  {
    "name": "cfo_cost_dynamics",
    "description": "–î–∏–Ω–∞–º–∏–∫–∞ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥.",
    "parameters": {
      "type": "object",
      "properties": {
        "sku": {"type": "string", "description": "–ê—Ä—Ç–∏–∫—É–ª (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"},
        "months": {"type": "integer", "default": 6, "description": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—è—Ü–µ–≤"}
      },
      "required": ["sku"]
    }
  },
  {
    "name": "cfo_top_profitable",
    "description": "–¢–æ–ø –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö SKU.",
    "parameters": {
      "type": "object",
      "properties": {
        "period": {"type": "string", "default": "month"},
        "limit": {"type": "integer", "default": 20},
        "marketplace": {"type": "string", "enum": ["all", "wb", "ozon", "ym"], "default": "all"}
      }
    }
  }
]
```

---

## 4.9 Executors

–ö–∞–∂–¥—ã–π –±–∞–Ω–Ω–µ—Ä –¥–∞—à–±–æ—Ä–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π executor. –í—Å–µ executors —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ \`/executors/launcher/cfo.py\`.

### 4.9.1 –†–µ–µ—Å—Ç—Ä Executors

| Action | Executor Function | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|--------|-------------------|------------|
| \`cfo.pnl_category\` | \`pnl_category()\` | –¢–∞–±–ª–∏—Ü–∞ + Bar Chart |
| \`cfo.pnl_brand\` | \`pnl_brand()\` | –¢–∞–±–ª–∏—Ü–∞ + Bar Chart |
| \`cfo.pnl_marketplace\` | \`pnl_marketplace()\` | –¢–∞–±–ª–∏—Ü–∞ + Bar Chart |
| \`cfo.pnl_sku\` | \`pnl_sku()\` | –¢–∞–±–ª–∏—Ü–∞ |
| \`cfo.pnl_consolidated\` | \`pnl_consolidated()\` | –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ + Area Chart |
| \`cfo.abc_analysis\` | \`abc_analysis()\` | –¢–∞–±–ª–∏—Ü–∞ + Pie Chart |
| \`cfo.loss_makers\` | \`loss_makers()\` | –¢–∞–±–ª–∏—Ü–∞ + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ |
| \`cfo.top_profitable\` | \`top_profitable()\` | –¢–∞–±–ª–∏—Ü–∞ |
| \`cfo.chart_revenue\` | \`chart_revenue()\` | Area Chart |
| \`cfo.chart_margin\` | \`chart_margin()\` | Line Chart |
| \`cfo.chart_compare\` | \`chart_compare()\` | Bar Chart (stacked) |
| \`cfo.stock_balance\` | \`stock_balance()\` | –¢–∞–±–ª–∏—Ü–∞ |
| \`cfo.shipments\` | \`shipments()\` | –¢–∞–±–ª–∏—Ü–∞ |
| \`cfo.returns\` | \`returns()\` | –¢–∞–±–ª–∏—Ü–∞ |
| \`cfo.inventory_value\` | \`inventory_value()\` | –¢–∞–±–ª–∏—Ü–∞ |
| \`cfo.cost_by_sku\` | \`cost_by_sku()\` | –¢–∞–±–ª–∏—Ü–∞ |
| \`cfo.supplier_prices\` | \`supplier_prices()\` | –¢–∞–±–ª–∏—Ü–∞ |
| \`cfo.cost_dynamics\` | \`cost_dynamics()\` | Line Chart |
| \`cfo.ai_digest\` | \`ai_digest()\` | Markdown (AI-—Ç–µ–∫—Å—Ç) |
| \`cfo.ai_chat\` | ‚Äî | Redirect ‚Üí Pipeline —á–∞—Ç |
| | **KB: –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** | |
| \`cfo.liquidity\` | \`liquidity()\` | –¢–∞–±–ª–∏—Ü–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ + Gauge |
| \`cfo.debt_load\` | \`debt_load()\` | –¢–∞–±–ª–∏—Ü–∞ + Stacked Bar |
| \`cfo.ebitda\` | \`ebitda()\` | KPI-–∫–∞—Ä—Ç–æ—á–∫–∏ + Line Chart |
| \`cfo.financial_stability\` | \`financial_stability()\` | –¢–∞–±–ª–∏—Ü–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ + Radar |
| | **KB: –î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫** | |
| \`cfo.cash_flow\` | \`cash_flow()\` | Waterfall Chart + —Ç–∞–±–ª–∏—Ü–∞ |
| \`cfo.cash_runway\` | \`cash_runway()\` | Gauge + Area Chart (–ø—Ä–æ–≥–Ω–æ–∑) |
| \`cfo.working_capital\` | \`working_capital()\` | –¢–∞–±–ª–∏—Ü–∞ + Bar Chart |
| | **KB: –†–∏—Å–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã** | |
| \`cfo.critical_risks\` | \`critical_risks()\` | –ö–∞—Ä—Ç–æ—á–∫–∏ —Ä–∏—Å–∫–æ–≤ (severity) |
| \`cfo.forecast\` | \`forecast()\` | 3 Line Charts (—Å—Ü–µ–Ω–∞—Ä–∏–∏) |
| \`cfo.roadmap\` | \`roadmap()\` | Timeline / Gantt |
| \`cfo.audit\` | \`audit()\` | Markdown + severity badges |
| | **KB: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤** | |
| \`cfo.channel_margins\` | \`channel_margins()\` | Bar Chart + —Ç–∞–±–ª–∏—Ü–∞ |
| \`cfo.mp_commissions\` | \`mp_commissions()\` | Stacked Bar + Pie Chart |
| \`cfo.redemption_rate\` | \`redemption_rate()\` | Line Chart + —Ç–∞–±–ª–∏—Ü–∞ |
| \`cfo.mp_benchmark\` | \`mp_benchmark()\` | Radar Chart |
| | **KB: –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å** | |
| \`cfo.dz_aging\` | \`dz_aging()\` | Stacked Bar (aging) + —Ç–∞–±–ª–∏—Ü–∞ |
| \`cfo.kz_aging\` | \`kz_aging()\` | Stacked Bar (aging) + —Ç–∞–±–ª–∏—Ü–∞ |
| \`cfo.suppliers_analysis\` | \`suppliers_analysis()\` | –¢–∞–±–ª–∏—Ü–∞ + Pie Chart |
| \`cfo.inventory_deadstock\` | \`inventory_deadstock()\` | –¢–∞–±–ª–∏—Ü–∞ + Bar Chart |

### 4.9.2 –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ Executor

–í—Å–µ executors –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:

```json
{
  "success": true,
  "action": "cfo.pnl_category",
  "title": "P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º",
  "subtitle": "07.02.2026 ‚Äî 13.02.2026",
  "components": [
    {
      "type": "chart",
      "chart_type": "bar",
      "data": {}
    },
    {
      "type": "table",
      "columns": ["–ö–∞—Ç–µ–≥–æ—Ä–∏—è", "–í—ã—Ä—É—á–∫–∞", "–°–µ–±–µ—Å—Ç.", "–†–∞—Å—Ö–æ–¥—ã –ú–ü", "–ü—Ä–∏–±—ã–ª—å", "–ú–∞—Ä–∂–∞"],
      "rows": [
        ["–ü–ª–∞—Ç—å—è", "2 450 000 ‚ÇΩ", "980 000 ‚ÇΩ", "367 500 ‚ÇΩ", "1 102 500 ‚ÇΩ", "45.0%"]
      ]
    },
    {
      "type": "summary",
      "items": [
        {"label": "–í—ã—Ä—É—á–∫–∞", "value": "4 570 000 ‚ÇΩ"},
        {"label": "–ü—Ä–∏–±—ã–ª—å", "value": "2 056 500 ‚ÇΩ"},
        {"label": "–ú–∞—Ä–∂–∞", "value": "45.0%"}
      ]
    }
  ],
  "actions": [
    {"label": "üè∑Ô∏è –ü–æ –±—Ä–µ–Ω–¥–∞–º", "action": "cfo.pnl_brand"},
    {"label": "üõí –ü–æ –ú–ü", "action": "cfo.pnl_marketplace"},
    {"label": "üì• Excel", "action": "cfo.export", "params": {"report_type": "pnl_category"}}
  ],
  "period_selector": true,
  "export_available": true
}
```

### 4.9.3 –ü—Ä–æ–º–ø—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```
–ü—Ä–æ–º–ø—Ç –¥–ª—è Claude Code:

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª executors/launcher/cfo.py —Å async-—Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ 
action –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ 4.9.1. –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è:
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç user: dict (id, role, brand_id)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç dict –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Ä–∞–∑–¥–µ–ª–∞ 4.9.2
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å—ã: pnl_service, abc_service, stock_service, 
  insight_service, export_service
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø –ø–æ —Ä–æ–ª–∏ (min_role –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–∞–Ω–Ω–µ—Ä–∞)
- –î–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç data –≤ —Ñ–æ—Ä–º–∞—Ç–µ Recharts
- –î–ª—è —Ç–∞–±–ª–∏—Ü —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —á–∏—Å–ª–∞ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: SQLAlchemy async, FastAPI, Pydantic.
–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: —Å–º. adolf_cfo_3_ai_pipeline.md
–°—Ö–µ–º–∞ –ë–î: —Å–º. adolf_cfo_5_database.md
```

---

## 4.10 –ú–∞—Ç—Ä–∏—Ü–∞ –¥–æ—Å—Ç—É–ø–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | Senior | Director | Admin |
|-----------|:------:|:--------:|:-----:|
| **KPI ‚Äî –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ (—Å—Ç—Ä–æ–∫–∞ 1)** | ‚úÖ | ‚úÖ | ‚úÖ |
| **KPI ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ (—Å—Ç—Ä–æ–∫–∞ 2)** | ‚ùå | ‚úÖ | ‚úÖ |
| **P&L –æ—Ç—á—ë—Ç—ã** | | | |
| P&L –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º / –±—Ä–µ–Ω–¥–∞–º / –ú–ü | ‚úÖ | ‚úÖ | ‚úÖ |
| P&L –ø–æ SKU | ‚ùå | ‚úÖ | ‚úÖ |
| –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π P&L | ‚ùå | ‚úÖ | ‚úÖ |
| **–¢–æ–≤–∞—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑** | ‚úÖ | ‚úÖ | ‚úÖ |
| **–î–∏–Ω–∞–º–∏–∫–∞ (–≥—Ä–∞—Ñ–∏–∫–∏)** | ‚úÖ | ‚úÖ | ‚úÖ |
| **–°–∫–ª–∞–¥ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞** | ‚úÖ | ‚úÖ | ‚úÖ |
| **–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å** | ‚úÖ | ‚úÖ | ‚úÖ |
| **AI-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞** | ‚úÖ | ‚úÖ | ‚úÖ |
| **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–Ω–∞–ª–æ–≤** | ‚úÖ | ‚úÖ | ‚úÖ |
| **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (KB)** | ‚ùå | ‚úÖ | ‚úÖ |
| **–î–µ–Ω–µ–∂–Ω—ã–π –ø–æ—Ç–æ–∫ (KB)** | ‚ùå | ‚úÖ | ‚úÖ |
| **–†–∏—Å–∫–∏ –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã (KB)** | ‚ùå | ‚úÖ | ‚úÖ |
| **–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ (KB)** | ‚ùå | ‚úÖ | ‚úÖ |
| –ß–∞—Ç @Adolf (—Ñ–∏–Ω–∞–Ω—Å—ã) | ‚úÖ | ‚úÖ | ‚úÖ |
| –ö–∞—Å—Ç–æ–º–Ω—ã–µ –æ—Ç—á—ë—Ç—ã (—á–∞—Ç) | ‚ùå | ‚úÖ | ‚úÖ |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–æ–≤ KPI | ‚ùå | ‚ùå | ‚úÖ |

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π (KB) —Å–æ–¥–µ—Ä–∂–∞—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π Qdrant –∏ —Å–∫—Ä—ã—Ç—ã –¥–ª—è —Ä–æ–ª–µ–π –Ω–∏–∂–µ Director. –ë–∞–Ω–Ω–µ—Ä—ã —Å \`min_role\` –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–ª—è –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Ä–æ–ª–µ–π. –î–æ—Å—Ç—É–ø –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ (—Å–∫—Ä—ã—Ç–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏/–±–∞–Ω–Ω–µ—Ä–∞), –∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (executor –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É 403).

---

## 4.11 –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

| –î–æ–∫—É–º–µ–Ω—Ç | –°–≤—è–∑—å |
|----------|-------|
| [Core 3.1: Launcher](/core/adolf_core_3_1_launcher) | –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–Ω–Ω–µ—Ä–Ω–æ–≥–æ –ø–æ–¥–º–µ–Ω—é |
| [Core 1.2: Pipelines](/core/adolf_core_1_2_open_webui_pipelines) | –ï–¥–∏–Ω—ã–π Pipeline \`@Adolf\`, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è |
| [CFO 3: AI Pipeline](/cfo/adolf_cfo_3_ai_pipeline) | –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–æ–≤ P&L –∏ ABC |
| [CFO 5: Database](/cfo/adolf_cfo_5_database) | –°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü \`cfo_*\` |
| [CFO 7: Celery](/cfo/adolf_cfo_7_celery) | –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è |
| [UI Reference: CFO](/ui_reference/cfo/) | –í–∏–∑—É–∞–ª—å–Ω—ã–π reference –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |
| [UI Reference: shadcn](/ui_reference/base/) | CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ design tokens |
| \`brain_1c_ka2_exports_registry_v1_1\` | –†–µ–≥–ª–∞–º–µ–Ω—Ç –≤—ã–≥—Ä—É–∑–æ–∫ –∏–∑ 1–° (13 –≤—ã–≥—Ä—É–∑–æ–∫) |
| \`Perechen_dokumentov_proekta_Ohana\` | –ü–µ—Ä–µ—á–µ–Ω—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ KB (~90 —Ñ–∞–π–ª–æ–≤, 27 –ú–ë) |

---

**–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω:** –§–µ–≤—Ä–∞–ª—å 2026  
**–í–µ—Ä—Å–∏—è:** 1.2  
**–°—Ç–∞—Ç—É—Å:** –£—Ç–≤–µ—Ä–∂–¥—ë–Ω  
**–ó–∞–º–µ–Ω—è–µ—Ç:** v1.1 (–§–µ–≤—Ä–∞–ª—å 2026)
